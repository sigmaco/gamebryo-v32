<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>

<title>MmOcclusionService</title>
<!--(Begin Meta)================================================================================-->

<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="Originator" content="Expedition" />
<meta name="Generator" content="DoxyConvert by Emergent Game Technologies - http://emergent.net" />

<meta name="Last-Updated" content="%lastupdated%" />

<!--(End Meta)==================================================================================-->
    
<!--(Begin Links)===============================================================================-->

<link rel="stylesheet" href="../../shared/Emergent.css" type="text/css" />

<!--(End Links)=================================================================================-->

</head>
  
<!--(Body)======================================================================================-->
<body lang="EN-US">
<script src="../../shared/NavScript.js" language="JavaScript1.2" type="text/javascript"></script>
<script language="JavaScript1.2" type="text/javascript">WriteNavLink(2);</script>

<p class="NDLRefHeadClassTitle">MmOcclusionService</p>
<p class="NDLRefParentage">: public <span class="NDLSystemFont"><a href="../efd/efd__ISystemService.htm">efd::ISystemService</a></span></p>


<p class="NDLRefHeaderFile">&lt;MmOcclusionService.h&gt;</p>

<p class="NDLRefHead1" style="text-align: center; ">
<div class="FigureContainer">
  <img src="./images/class_mm_occlusion_service.gif" alt="Inheritance graph for MmOcclusionService"/>
  <p class="FigureCaption">Inheritance graph for MmOcclusionService</p>
</div>
</p>

<p class="NDLRefHead1">Description</p>
<p class="NDLNormal">Helps improve rendering performance by making regions of the world non-visible. </p>
<p class="NDLNormal">The service listens for all entities that are created, and checks them for the presence of the 'OcclusionRegion' property. If this property is present and set to a non-zero value, then it adds the entity to a bin of entities associated with that region. When the appropriate methods are called to show or hide a region, all of the entities in that region's bin have the value of their 'Visible' property change.</p>
<p class="NDLNormal">The service provides built-ins to control when to hide and show regions. To use the service, add the 'OcclusionRegion' property to some entities, then create a trigger that calls the built-in. A designer is responsible for assigning the appropriate region values to entities and setting up triggers to show and hide the appropriate regions.</p>
<p class="NDLNormal">The service assumes that the OcclusionRegion property will not be changed during an entity's lifetime. It is intended primarily for use with static objects that are kept in memory. Removal of entities that have been added to its maps are somewhat inefficient so instead of allowing entity messages to take care of it when block files are unloaded, it is recommended that the service's maps be manually cleared first. </p>

<a name="public_methods"></a>
<p class="NDLRefHead1">Public Methods</p>


<a name="class_mm_occlusion_service_1aecb4d6df037c6073b08dafc4caecc48f"></a>
<p class="NDLRefMemberFunction">MmOcclusionService()</p>
<p class="NDLRefMemberDetailedDescription">Constructor </p>

<a name="class_mm_occlusion_service_1a1ee19d2fcab9e27eb187495ffd94b1c4"></a>
<p class="NDLRefMemberFunction">virtual void  HandleEntityAddedMessage(<br/>const <span class="NDLSystemFont"><a href="../egf/egf__EntityChangeMessage.htm">egf::EntityChangeMessage</a></span>* pMessage, <br/><span class="NDLSystemFont"><a href="../efd/efd__Category.htm">efd::Category</a></span> targetChannel)</p>
<p class="NDLRefMemberDescription">Adds entities to the entity map based on the value of their OcclusionRegion property. </p>

<a name="class_mm_occlusion_service_1addce190b95fc67f921894a3aef0613d9"></a>
<p class="NDLRefMemberFunction">virtual void  HandleEntityRemovedMessage(<br/>const <span class="NDLSystemFont"><a href="../egf/egf__EntityChangeMessage.htm">egf::EntityChangeMessage</a></span>* pMessage, <br/><span class="NDLSystemFont"><a href="../efd/efd__Category.htm">efd::Category</a></span> targetChannel)</p>
<p class="NDLRefMemberDescription">Removes entities from the entity map. </p>

<a name="class_mm_occlusion_service_1a367a4fad19e368fab4fa40aabd5ee396"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">efd::Bool</span>  HideRegion(<span class="NDLSystemFont"><a href="../Namespaces/efd.htm">efd::SInt32</a></span> region)</p>
<p class="NDLRefMemberDescription">Makes all entities marked for a particular region non-visible. </p>
<p class="NDLRefMemberDetailedDescription">Each entity that contains the property 'OcclusionRegion' with a value set to the value of the argument will have their 'Visible' property set to false.</p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">region</span></td>
    <td>identifier integer of the region to hide </td>
</tr>
<tr>
    <td><em>Return Value</em></td>
    <td>true if region was previously visible and contained entities </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_mm_occlusion_service_1a90144ca29d675ec84c1e14024e9a6763"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">efd::Bool</span>  ShowRegion(<span class="NDLSystemFont"><a href="../Namespaces/efd.htm">efd::SInt32</a></span> region)</p>
<p class="NDLRefMemberDescription">Makes all entities marked for a particular region visible. </p>
<p class="NDLRefMemberDetailedDescription">Each entity that contains the property 'OcclusionRegion' with a value set to the value of the argument will have their 'Visible' property set to true.</p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">region</span></td>
    <td>identifier integer of the region to show </td>
</tr>
<tr>
    <td><em>Return Value</em></td>
    <td>true if region was previously hidden and contained entities </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_mm_occlusion_service_1afa5d8606048261d02bd8c080779b7b3d"></a>
<p class="NDLRefMemberFunction">void  ClearMaps()</p>
<p class="NDLRefMemberDescription">Removes all entities from its mapping to avoid expensive entity removal messages. </p>
 
<!--kadov_tag{{<placeholder id="footer">}}-->

</body>

</html>
