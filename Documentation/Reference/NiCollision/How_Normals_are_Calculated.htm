<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>

<title>How Normals are Calculated</title>
<!--(Begin Meta)===================================================-->

<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="Originator" content="Pre-Expedition-RH" />
<meta name="Generator" content="Palimpsest by Emergent Game Technologies - http://emergent.net" />
<meta name="Last-Updated" content="%lastupdated%" />

<!--(End Meta)====================================================-->
    
<!--(Begin Links)===================================================-->
    
<link rel="stylesheet" href="../../shared/Emergent.css" type="text/css" />

<!--(End Links)=====================================================-->

</head>

<!--(Begin Body)===================================================-->
<body lang="EN-US">
<script src="../../shared/NavScript.js" language="JavaScript1.2" type="text/javascript"></script> <script language="JavaScript1.2" type="text/javascript">WriteNavLink(2);</script>


<h1>How Normals are Calculated</h1>

<p>The text below explains how the predicted normals of 
 intersection are calculated for different combinations of two intersecting 
 object types. In general, the two normals will be oriented in opposing 
 directions. Note that, for the sake of performance, these calculations 
 are sometimes approximations.</p>

<h2>Box vs. Box</h2>

<p>Collision normals calculated for a Box-Box intersection 
 are essentially the face normals that correspond to an appropriate face 
 of intersection. (Approximations such as using a normalized center-to-intersection-point 
 vector or using a unit X vector may be necessary for inter-penetration 
 cases. However, the collision detection system is based on the assumption 
 that objects to not interpenetrate in their initial state.)</p>

<h2>Box vs. Capsule</h2>

<p>Collision normals for a Box-Capsule intersection are 
 essentially calculated by summing the normals from box faces that are 
 found to participate in the collision. (Approximations such as using a 
 normalized center-to-intersection-point vector or using a unit X vector 
 may be necessary for inter-penetration cases. However, the collision detection 
 system is based on the assumption that objects to not interpenetrate in 
 their initial state.)</p>

<h2>Box vs. Sphere</h2>

<p>Collision normals calculated for a Box-Sphere intersection 
 correspond to the sphere normal at the predicted point of intersection. 
 (Approximations such as using a normalized center-to-intersection-point 
 vector or using a unit X vector may be necessary for inter-penetration 
 cases. However, the collision detection system is based on the assumption 
 that objects to not interpenetrate in their initial state.)</p>

<h2>Box vs. Triangle</h2>

<p>Collision normals calculated for a Box-Triangle intersection 
 correspond to the triangle normal.</p>

<h2>Capsule vs. Capsule</h2>

<p>Collision normals for a Capsule-Capsule intersection 
 are calculated by normalizing the segment connecting the closest points 
 of the objects.</p>

<h2>Capsule vs. Sphere</h2>

<p>Collision normals for a Capsule-Sphere intersection 
 are calculated by normalizing the segment connecting the closest points 
 of the objects.</p>

<h2>Capsule vs. Triangle</h2>

<p>Collision normals calculated for a Capsule-Triangle 
 intersection correspond to the triangle normal.</p>

<h2>Sphere vs. Sphere</h2>

<p>Collision normals calculated for a Sphere-Sphere intersection 
 are found using a normalized center-to-intersection-point vector. (Approximations 
 such as using a unit X vector may be necessary for inter-penetration cases. 
 However, the collision detection system is based on the assumption that 
 objects to not interpenetrate in their initial state.)</p>

<h2>Sphere vs. Triangle</h2>

<p>Collision normals calculated for a Sphere-Triangle intersection 
 correspond to the triangle normal.</p>

<h2>Triangle vs. Triangle</h2>

<p>Collision normals calculated for a Triangle-Triangle 
 intersection correspond to the individual triangle normals. (Note that 
 this case violates the general trend of the two normals being oriented 
 in opposing directions)</p>

<h2>Box vs. Halfspace</h2>

<p>The halfspace normal comes from the normal of the halfspace 
 plane. The box normal is the normalized vector from the center of the 
 box to the intersection point of the objects.</p>

<h2>Capsule vs. Halfspace</h2>

<p>The returned normals are taken from the normal of the 
 halfspace plane.</p>

<h2>Halfspace vs. Halfspace</h2>

<p>The returned normals are taken as the normal of the 
 halfspace plane.</p>

<h2>Sphere vs. Halfspace</h2>

<p>The returned normals are taken from the normal of the 
 halfspace plane.</p>

<h2>Triangle vs. Halfspace</h2>

<p>The returned normals are taken from the normal of the 
 halfspace plane.</p>

<h2>OBB vs. OBB</h2>

<p>When OBBs collide, the resulting collision normals are 
 calculated as though the OBBs were ellipsoids.</p>

<!--kadov_tag{{<placeholder id="footer">}}-->

</body>

</html>
