<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>

<title>NiSPStreamPartitioner</title>
<!--(Begin Meta)================================================================================-->

<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="Originator" content="Expedition" />
<meta name="Generator" content="DoxyConvert by Emergent Game Technologies - http://emergent.net" />

<meta name="Last-Updated" content="%lastupdated%" />

<!--(End Meta)==================================================================================-->
    
<!--(Begin Links)===============================================================================-->

<link rel="stylesheet" href="../../shared/Emergent.css" type="text/css" />

<!--(End Links)=================================================================================-->

</head>
  
<!--(Body)======================================================================================-->
<body lang="EN-US">
<script src="../../shared/NavScript.js" language="JavaScript1.2" type="text/javascript"></script>
<script language="JavaScript1.2" type="text/javascript">WriteNavLink(2);</script>

<p class="NDLRefHeadClassTitle">NiSPStreamPartitioner</p>
<p class="NDLRefParentage">: public <span class="NDLSystemFont"><a href="../efd/efd__MemObject.htm">efd::MemObject</a></span></p>


<p class="NDLRefHeaderFile">&lt;NiSPStreamPartitioner.h&gt;</p>

<p class="NDLRefHead1" style="text-align: center; ">
<div class="FigureContainer">
  <img src="./images/class_ni_s_p_stream_partitioner.gif" alt="Inheritance graph for NiSPStreamPartitioner"/>
  <p class="FigureCaption">Inheritance graph for NiSPStreamPartitioner</p>
</div>
</p>

<p class="NDLRefHead1">Description</p>
<p class="NDLNormal">Base class for implementing data decomposition policies. </p>

<a name="public_methods"></a>
<p class="NDLRefHead1">Public Methods</p>


<a name="class_ni_s_p_stream_partitioner_1aa220a29d70a40ada3a969ccf85535c9b"></a>
<p class="NDLRefMemberFunction">NiSPStreamPartitioner()</p>
<p class="NDLRefMemberDescription">Constructor. </p>

<a name="class_ni_s_p_stream_partitioner_1a37a06cd84a7b7d0aa4cc83d608bca4cb"></a>
<p class="NDLRefMemberFunction">virtual ~NiSPStreamPartitioner()</p>
<p class="NDLRefMemberDescription">Destructor. </p>

<a name="class_ni_s_p_stream_partitioner_1afb4159125fa7c9fa78e509044fccc416"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">NiUInt32</span>  GetOptimalBlockCount()</p>
<p class="NDLRefMemberDescription">Gets the optimal number of blocks to send at one time. </p>

<a name="class_ni_s_p_stream_partitioner_1a74e11c63bc0c21be1c4153966df9e498"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">bool</span>  HasMoreBlocks()</p>
<p class="NDLRefMemberDescription">Indicates if the set has more chunks to transfer. </p>

<a name="class_ni_s_p_stream_partitioner_1af72ffb074715c1c831dfb23b1c6e684b"></a>
<p class="NDLRefMemberFunction">void  Reset()</p>
<p class="NDLRefMemberDescription">Resets the set back to the start of its streams. </p>

<a name="class_ni_s_p_stream_partitioner_1ae7376e34f319199fa9c3b94ab13a2fe6"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">NiInt32</span>  GetBlockIndex()</p>
<p class="NDLRefMemberDescription">Gets the current chunk index. </p>

<a name="class_ni_s_p_stream_partitioner_1a8b046c5db021b61b821eb6a23800bf90"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">NiInt32</span>  GetTransferBlockCount()</p>
<p class="NDLRefMemberDescription">Gets the number of blocks to transfer. </p>

<a name="class_ni_s_p_stream_partitioner_1ac5a4a2aabc48eda7ef98310d3074d42a"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">NiUInt32</span>  GetTransferSize()</p>
<p class="NDLRefMemberDescription">Gets the size of a chunk across all streams in bytes. </p>

<a name="class_ni_s_p_stream_partitioner_1afccbe4b6857959eeac18909e4e4b5240"></a>
<p class="NDLRefMemberFunction">void  SetTask(<span class="NDLSystemFont"><a href="NiSPTask.htm">NiSPTask</a></span>* pkTask)</p>
<p class="NDLRefMemberDescription">Sets the task to partition. </p>

<a name="class_ni_s_p_stream_partitioner_1aed77792d81a72526fe1118e6d09b3c09"></a>
<p class="NDLRefMemberFunction">void  AdvanceBlockIndex()</p>
<p class="NDLRefMemberDescription">Increases the chunk index by transfer chunk count. </p>

<a name="class_ni_s_p_stream_partitioner_1a20cb9ecf4fe3d44ece8b0850005fbfeb"></a>
<p class="NDLRefMemberFunction">virtual void  Initialize(<span class="NDLSystemFont"><a href="NiSPTask.htm">NiSPTask</a></span>* pkTask)</p>
<p class="NDLRefMemberDescription">Initializes the stream partitioner. </p>

<a name="class_ni_s_p_stream_partitioner_1a15e3de0016032302dd18818bb7577435"></a>
<p class="NDLRefMemberFunction">virtual void  Partition(<br/><span class="NDLSystemFont"><a href="NiSPJobList.htm">NiSPJobList</a></span>* pkJobList, <br/><span class="NDLSystemFont">NiUInt32</span> uiJobIndex, <br/><span class="NDLSystemFont">NiUInt32</span>& uiInputSize, <br/><span class="NDLSystemFont">NiUInt32</span>& uiOutputSize)</p>
<p class="NDLRefMemberDescription">Drives the execution of data partitioning (decomposition) by calling the appropriate subclass's routines for partitioning the data in each <span class="NDLSystemFont"><a href="NiSPStream.htm">NiSPStream</a></span> for the current <span class="NDLSystemFont"><a href="NiSPTask.htm">NiSPTask</a></span>. </p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">pkJobList</span></td>
    <td>Current <span class="NDLSystemFont"><a href="NiSPJobList.htm">NiSPJobList</a></span> instance. </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">uiJobIndex</span></td>
    <td>Index of the <span class="NDLSystemFont"><a href="NiSPJob.htm">NiSPJob</a></span> within the list. </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">uiInputSize</span></td>
    <td>Total size of input data. </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">uiOutputSize</span></td>
    <td>Total size of output data. </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_s_p_stream_partitioner_1a60410acc046b4b739facf3cf83506242"></a>
<p class="NDLRefMemberFunction">virtual <span class="NDLSystemFont">NiUInt32</span>  PartitionInput(<br/><span class="NDLSystemFont"><a href="NiSPJobList.htm">NiSPJobList</a></span>* pkJobList, <br/><span class="NDLSystemFont">NiUInt32</span> uiJobIndex, <br/><span class="NDLSystemFont"><a href="NiSPStream.htm">NiSPStream</a></span>* pkStream, <br/><span class="NDLSystemFont"><a href="NiSPWorkload__Header.htm">NiSPWorkload::Header</a></span>& kWorkloadHeader)</p>
<p class="NDLRefMemberDescription">Partitions an input stream for the current task. </p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">pkJobList</span></td>
    <td>Current <span class="NDLSystemFont"><a href="NiSPJobList.htm">NiSPJobList</a></span> instance. </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">uiJobIndex</span></td>
    <td>Index of the <span class="NDLSystemFont"><a href="NiSPJob.htm">NiSPJob</a></span> within the list. </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">pkStream</span></td>
    <td>Stream to partition. </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">kWorkloadHeader</span></td>
    <td>Header to fill out with job related info. </td>
</tr>
<tr>
    <td><em>Return Value</em></td>
    <td>Size in bytes of the input data added to the job. </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_s_p_stream_partitioner_1aa58898d2b5e4277cf4a52db7c48ba131"></a>
<p class="NDLRefMemberFunction">virtual <span class="NDLSystemFont">NiUInt32</span>  PartitionOutput(<br/><span class="NDLSystemFont"><a href="NiSPJobList.htm">NiSPJobList</a></span>* pkJobList, <br/><span class="NDLSystemFont">NiUInt32</span> uiJobIndex, <br/><span class="NDLSystemFont"><a href="NiSPStream.htm">NiSPStream</a></span>* pkStream, <br/><span class="NDLSystemFont"><a href="NiSPWorkload__Header.htm">NiSPWorkload::Header</a></span>& kWorkloadHeader)</p>
<p class="NDLRefMemberDescription">Partitions an output stream for the current task. </p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">pkJobList</span></td>
    <td>Current <span class="NDLSystemFont"><a href="NiSPJobList.htm">NiSPJobList</a></span> instance. </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">uiJobIndex</span></td>
    <td>Index of the <span class="NDLSystemFont"><a href="NiSPJob.htm">NiSPJob</a></span> within the list. </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">pkStream</span></td>
    <td>Stream to partition. </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">kWorkloadHeader</span></td>
    <td>Header to fill out with job related info. </td>
</tr>
<tr>
    <td><em>Return Value</em></td>
    <td>Size in bytes of the output data added to the job. </td>
</tr>

        </tbody>
    </table>
</div>


<a name="public_static_methods"></a>
<p class="NDLRefHead1">Public Static Methods</p>


<a name="class_ni_s_p_stream_partitioner_1a570bde186c1f4d8dad845504a832fa48"></a>
<p class="NDLRefMemberFunction">static <span class="NDLSystemFont">NiUInt32</span>  ComputeTotalBlockCount(<span class="NDLSystemFont"><a href="NiSPTask.htm">NiSPTask</a></span>* pkTask)</p>
<p class="NDLRefMemberDescription">Determines the total block for a task. </p>

<a name="class_ni_s_p_stream_partitioner_1ae895fae0a9b35292a024715f0b311408"></a>
<p class="NDLRefMemberFunction" style=" x-condition: PS3; ">static <span class="NDLSystemFont" style=" x-condition: PS3; ">NiUInt32</span>  GetSPUMemoryLimit()</p>
<p class="NDLRefMemberDescription" style=" x-condition: PS3; "> Obtain the current SPU memory limit. </p>
<p class="NDLRefMemberDetailedDescription" style=" x-condition: PS3; ">This is used when estimating the optimal block count. </p>

<a name="class_ni_s_p_stream_partitioner_1ab7c8ed2d8ab4c2fcbc38cd930dd72e51"></a>
<p class="NDLRefMemberFunction" style=" x-condition: PS3; ">static void  SetSPUMemoryLimit(const <span class="NDLSystemFont" style=" x-condition: PS3; ">NiUInt32</span> uiLimit)</p>
<p class="NDLRefMemberDescription" style=" x-condition: PS3; "> Set the current SPU memory limit. </p>
<p class="NDLRefMemberDetailedDescription" style=" x-condition: PS3; ">This is used when estimating the optimal block count. </p>
 
<!--kadov_tag{{<placeholder id="footer">}}-->

</body>

</html>
