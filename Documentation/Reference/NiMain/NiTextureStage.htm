<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>

<title>NiTextureStage</title>
<!--(Begin Meta)===================================================-->

<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="Originator" content="Pre-Expedition-RH" />
<meta name="Generator" content="Palimpsest by Emergent Game Technologies - http://emergent.net" />
<meta name="Last-Updated" content="%lastupdated%" />

<!--(End Meta)====================================================-->
    
<!--(Begin Links)===================================================-->
    
<link rel="stylesheet" href="../../shared/Emergent.css" type="text/css" />

<!--(End Links)=====================================================-->

</head>

<!--(Begin Body)===================================================-->
<body lang="EN-US">
<script src="../../shared/NavScript.js" language="JavaScript1.2"
type="text/javascript">
</script><script language="JavaScript1.2" type="text/javascript">
WriteNavLink(2);
</script>

<p class="NDLRefHeadClassTitle">NiTextureStage</p>

<p class="NDLRefParentage">: public <a href=
"../../Reference/NiSystem/NiMemObject.htm">NiMemObject</a></p>

<p class="NDLRefHeaderFile">&lt;NiTextureStage.h&gt;</p>

<p class="NDLRefHead2">Description</p>

<a name="TSTextureFlagsEnumerations" id="TSTextureFlagsEnumerations"></a><p class="NDLRefHead2">TSTextureFlags Enumerations</p>

<p><span class="NDLSystemFont">uiTextureFlags</span> is the value
which allows for determining the texture source and texture
coordinate index to utilize for the texture sampler. If
(<span class="NDLSystemFont">uiTextureFlags &amp; TSTF_MAP_MASK
== 0</span>), the following values are enumerated for determining
the source, and use the <span class=
"NDLSystemFont">TSTF_NDL_TYPEMASK</span> value to retrieve the
appropriate value from the flags:</p>

<!--(Table)=========================================================-->
<table>
    <thead>
        <tr>
            <th>Flag</th>

            <th>Texture Source</th>
        </tr>
    </thead>

    <tbody>
        <tr>
            <td><span class=
            "NDLSystemFont">TSTF_IGNORE</span></td>

            <td><span class="NDLSystemFont">m_spTexture</span>
            member contents.</td>
        </tr>

        <tr>
            <td><span class="NDLSystemFont">TSTF_NONE</span></td>

            <td>No texture.</td>
        </tr>

        <tr>
            <td><span class=
            "NDLSystemFont">TSTF_NDL_BASE</span></td>

            <td>Base map of the <span class=
            "NDLSystemFont"><a href=
            "NiTexturingProperty.htm">NiTexturingProperty</a></span>.</td>
        </tr>

        <tr>
            <td><span class=
            "NDLSystemFont">TSTF_NDL_DARK</span></td>

            <td>Dark map of the <span class=
            "NDLSystemFont"><a href=
            "NiTexturingProperty.htm">NiTexturingProperty</a></span>.</td>
        </tr>

        <tr>
            <td><span class=
            "NDLSystemFont">TSTF_NDL_DETAIL</span></td>

            <td>Detail map of the <span class=
            "NDLSystemFont"><a href=
            "NiTexturingProperty.htm">NiTexturingProperty</a></span>.</td>
        </tr>

        <tr>
            <td><span class=
            "NDLSystemFont">TSTF_NDL_GLOSS</span></td>

            <td>Gloss map of the <span class=
            "NDLSystemFont"><a href=
            "NiTexturingProperty.htm">NiTexturingProperty</a></span>.</td>
        </tr>

        <tr>
            <td><span class=
            "NDLSystemFont">TSTF_NDL_GLOW</span></td>

            <td>Glow map of the <span class=
            "NDLSystemFont"><a href=
            "NiTexturingProperty.htm">NiTexturingProperty</a></span>.</td>
        </tr>

        <tr>
            <td><span class=
            "NDLSystemFont">TSTF_NDL_BUMP</span></td>

            <td>Bump map of the <span class=
            "NDLSystemFont"><a href=
            "NiTexturingProperty.htm">NiTexturingProperty</a></span>.</td>
        </tr>

        <tr>
            <td><span class=
            "NDLSystemFont">TSTF_NDL_NORMAL</span></td>

            <td>Normal map of the <span class=
            "NDLSystemFont"><a href=
            "NiTexturingProperty.htm">NiTexturingProperty</a></span>.</td>
        </tr>

        <tr>
            <td><span class=
            "NDLSystemFont">TSTF_NDL_PARALLAX</span></td>

            <td>Parallax map of the <span class=
            "NDLSystemFont"><a href=
            "NiTexturingProperty.htm">NiTexturingProperty</a></span>.</td>
        </tr>
    </tbody>
</table>

<p>If <span class="NDLSystemFont">((uiTextureFlags &amp;
TSTF_MAP_MASK) == TSTF_MAP_DECAL)</span> is true, then a decal
map from the <span class="NDLSystemFont"><a href=
"NiTexturingProperty.htm">NiTexturingProperty</a></span> should
be used. The index of the decal can be retrieved by masking the
flags with <span class=
"NDLSystemFont">TSTF_INDEX_MASK</span>.</p>

<p>If <span class="NDLSystemFont">((uiTextureFlags &amp;
TSTF_MAP_MASK) == TSTF_MAP_SHADER)</span> is true, then a shader
map from the <span class="NDLSystemFont"><a href=
"NiTexturingProperty.htm">NiTexturingProperty</a></span> should
be used. The index of the shader map can be retrieved by masking
the flags with <span class=
"NDLSystemFont">TSTF_INDEX_MASK</span>.</p>

<p>If <span class="NDLSystemFont">((uiTextureFlags &amp;
TSTF_MAP_USE_MASK) == TSTF_MAP_USE_INDEX)</span> is true, then
the texture coordinate index should be retrieved from the
<span class="NDLSystemFont"><a href=
"NiTexturingProperty.htm">NiTexturingProperty</a></span>.</p>

<a name="TSTextureTransformFlagsEnumerations" id="TSTextureTransformFlagsEnumerations"></a><p class="NDLRefHead2">TSTextureTransformFlags Enumerations</p>

<p><span class="NDLSystemFont">uiTextureTransformFlags</span> is
the value which allows for determining the texture transformation
source. The following enumerations define the source of the
transformation:</p>

<!--(Table)=========================================================-->
<table>
    <thead>
        <tr>
            <th>Flag</th>

            <th>Texture Transformation Source</th>
        </tr>
    </thead>

    <tbody>
        <tr>
            <td><span class=
            "NDLSystemFont">TSTTF_IGNORE</span></td>

            <td>The m_<span class=
            "NDLSystemFont">kTextureTransformation</span>
            member.</td>
        </tr>

        <tr>
            <td><span class=
            "NDLSystemFont">TSTTF_GLOBAL</span></td>

            <td>The global constant, m_<span class=
            "NDLSystemFont">pkGlobalEntry</span>.</td>
        </tr>

        <tr>
            <td><span class=
            "NDLSystemFont">TSTTF_CONSTANT</span></td>

            <td>The m_<span class=
            "NDLSystemFont">kTextureTransformation</span>
            member.</td>
        </tr>
    </tbody>
</table>

<p>These values are checked by masking <span class=
"NDLSystemFont">uiTextureTransformFlags</span> with <span class=
"NDLSystemFont">TSTTF_SOURCE_MASK</span>. The <span class=
"NDLSystemFont">IGNORE</span> case assume that the application
(or the default pipeline) has properly updated the <span class=
"NDLSystemFont">kTextureTransformationMember</span>, and no
further processing is done on the matrix.</p>

<p>When <span class="NDLSystemFont">TSTTF_GLOBAL</span> or
<span class="NDLSystemFont">TSTTF_CONSTANT</span> is used,
additional operations can be performed. These are determined by
masking the <span class=
"NDLSystemFont">uiTextureTransformFlags</span> value with
<span class="NDLSystemFont">~TSTTF_SOURCE_MASK</span>. The value
then determines the additional processing that will occur on the
matrix. These values are listed below:</p>

<!--(Table)=========================================================-->
<table>
    <thead>
        <tr>
            <th>Flag</th>

            <th>Additional Processing Taken</th>
        </tr>
    </thead>

    <tbody>
        <tr>
            <td><span class=
            "NDLSystemFont">TSTTF_NI_NO_CALC</span></td>

            <td>No further processing.</td>
        </tr>

        <tr>
            <td><span class=
            "NDLSystemFont">TSTTF_NI_WORLD_PARALLEL</span></td>

            <td>Calculate the world parallel transformation,
            treating the <span class=
            "NDLSystemFont">kTextureTransformationMatrix</span>
            as the world transform for the effect.</td>
        </tr>

        <tr>
            <td><span class=
            "NDLSystemFont">TSTTF_NI_WORLD_PERSPECTIVE</span></td>

            <td>Calculate the world perspective transformation,
            treating the <span class=
            "NDLSystemFont">kTextureTransformationMatrix</span>
            as the world transform for the effect.</td>
        </tr>

        <tr>
            <td><span class=
            "NDLSystemFont">TSTTF_NI_WORLD_SPHERE_MAP</span></td>

            <td>Calculate the world sphere mapping
            transformation, treating the <span class=
            "NDLSystemFont">kTextureTransformationMatrix</span>
            as the world transform for the effect.</td>
        </tr>

        <tr>
            <td><span class=
            "NDLSystemFont">TSTTF_NI_CAMERA_SPHERE_MAP</span></td>

            <td>Calculate the camera sphere mapping
            transformation.</td>
        </tr>

        <tr>
            <td><span class=
            "NDLSystemFont">TSTTF_NI_SPECULAR_CUBE_MAP</span></td>

            <td>Calculate the specular cube mapping
            transformation, treating the <span class=
            "NDLSystemFont">kTextureTransformationMatrix</span>
            as the world transform for the effect.</td>
        </tr>

        <tr>
            <td><span class=
            "NDLSystemFont">TSTTF_NI_DIFFUSE_CUBE_MAP</span></td>

            <td>Calculate the diffuse cube mapping
            transformation, treating the <span class=
            "NDLSystemFont">kTextureTransformationMatrix</span>
            as the world transform for the effect.</td>
        </tr>
    </tbody>
</table>

<a name="TSObjTextureFlagsEnumerations" id="TSObjTextureFlagsEnumerations"></a><p class="NDLRefHead2">TSTextureTransformFlags Enumerations</p>

<p><span class="NDLSystemFont">usObjTextureFlags</span> is the
value which allows for determining the source for textures that
are obtained from <span class=
"NDLSystemFont">NiTextureEffect</span> objects. If (<span class=
"NDLSystemFont">usObjTextureFlags != 0</span>), then the upper
byte <span class="NDLSystemFont">((usObjTextureFlags &amp;
TSOTF_TYPE_MASK) &gt;&gt; TSOTF_TYPE_SHIFT)</span> contains the
<span class="NDLSystemFont"><a href=
"NiShaderAttributeDesc.htm#ObjectType_Enumerations">NiShaderAttributeDesc::ObjectType</a></span>
enumeration for the texture. For projected shadows and projected
lights, the lower byte <span class=
"NDLSystemFont">(usObjTextureFlags &amp; TSOTF_INDEX_MASK)</span>
contains the index indicating which <span class=
"NDLSystemFont"><a href=
"NiTextureEffect.htm">NiTextureEffect</a></span> the stage is
referring to.</p>

<!--kadov_tag{{<placeholder id="footer">}}-->

</body>

</html>
