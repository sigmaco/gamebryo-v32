<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>

<title>NiTerrainDecal</title>
<!--(Begin Meta)================================================================================-->

<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="Originator" content="Expedition" />
<meta name="Generator" content="DoxyConvert by Emergent Game Technologies - http://emergent.net" />

<meta name="Last-Updated" content="%lastupdated%" />

<!--(End Meta)==================================================================================-->
    
<!--(Begin Links)===============================================================================-->

<link rel="stylesheet" href="../../shared/Emergent.css" type="text/css" />

<!--(End Links)=================================================================================-->

</head>
  
<!--(Body)======================================================================================-->
<body lang="EN-US">
<script src="../../shared/NavScript.js" language="JavaScript1.2" type="text/javascript"></script>
<script language="JavaScript1.2" type="text/javascript">WriteNavLink(2);</script>

<p class="NDLRefHeadClassTitle">NiTerrainDecal</p>
<p class="NDLRefParentage">: public <span class="NDLSystemFont"><a href="../NiMain/NiNode.htm">NiNode</a></span></p>


<p class="NDLRefHeaderFile">&lt;NiTerrainDecal.h&gt;</p>

<p class="NDLRefHead1" style="text-align: center; ">
<div class="FigureContainer">
  <img src="./images/class_ni_terrain_decal.gif" alt="Inheritance graph for NiTerrainDecal"/>
  <p class="FigureCaption">Inheritance graph for NiTerrainDecal</p>
</div>
</p>

<p class="NDLRefHead1">Description</p>
<p class="NDLNormal">This class represents a decal that will be placed on a terrain sector. </p>
<p class="NDLNormal">The decal mesh will form itself around the terrain geometry and be placed slightly above the terrain mesh itself for rendering purposes.</p>
<p class="NDLNormal">Decals support alpha decay over time, as well as a life span. When a decal reaches the end of its life span, the owner of the decal will need to remove the decal from the terrain, it is not done by the decal itself. </p>

<a name="public_methods"></a>
<p class="NDLRefHead1">Public Methods</p>


<a name="class_ni_terrain_decal_1abea9bd4a00862ff252d3e726aaea8ab1"></a>
<p class="NDLRefMemberFunction">~NiTerrainDecal()</p>
<p class="NDLRefMemberDescription">Destructor. </p>
<a name="constructors"></a>
<p class="NDLRefHead1">Constructors</p>


<a name="class_ni_terrain_decal_1ac499c85f81e94f55f805b0f0252e03c9"></a>
<p class="NDLRefMemberFunction">NiTerrainDecal()</p>
<p class="NDLRefMemberDescription">Default constructor. </p>
<a name="decal_manipulation_functions"></a>
<p class="NDLRefHead1">Decal manipulation functions</p>


<a name="class_ni_terrain_decal_1a166467380506de331f017ab8b320f608"></a>
<p class="NDLRefMemberFunction">void  Initialize(<br/><span class="NDLSystemFont"><a href="../NiMain/NiTexture.htm">NiTexture</a></span>* pkTexture, <br/><span class="NDLSystemFont"><a href="../NiMain/NiPoint3.htm">NiPoint3</a></span> kPosition, <br/><span class="NDLSystemFont"><a href="NiTerrain.htm">NiTerrain</a></span>* pkTerrain, <br/><span class="NDLSystemFont">NiUInt32</span> uiSize = 2, <br/>float fRatio = 1, <br/>float fTimeOfDeath = 0, <br/>float fDecayStartTime = 0, <br/>float fDepthBiasOffset = 0.005f)</p>
<p class="NDLRefMemberDescription">Initializes the geometry for this decal from the positional data given by the sector and initializes time to live variables. </p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">pkTexture</span></td>
    <td>Texture to apply to the decal. Stored internally as a reference counted pointer </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">kPosition</span></td>
    <td>Terrain space position to center the decal around. Only the X and Y components are taken into account. </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">pkTerrain</span></td>
    <td>Terrain that this decal is placed upon. </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">uiSize</span></td>
    <td>Side length and breadth, in terrain space, of the decal </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">fRatio</span></td>
    <td>Scale of the texture on the decal. A larger value will result in smaller texture </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">fTimeOfDeath</span></td>
    <td>Accumulated app time at which this decal will need destroying </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">fDecayStartTime</span></td>
    <td>Accumulated app time at which this decal will begin time based alpha decay </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">fDepthBiasOffset</span></td>
    <td>offset modifier used to avoid z fighting issues </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_terrain_decal_1a07f752e797a7cc7440cd3f9276aee0e7"></a>
<p class="NDLRefMemberFunction">void  InitializeRegion(<br/><span class="NDLSystemFont"><a href="NiTerrain.htm">NiTerrain</a></span>* pkTerrain, <br/><span class="NDLSystemFont"><a href="../NiMain/NiPoint3.htm">NiPoint3</a></span> kPosition, <br/><span class="NDLSystemFont">NiUInt32</span> uiSize)</p>
<p class="NDLRefMemberDescription">Initialize the region that the decal is interested in. </p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">pkTerrain</span></td>
    <td>Terrain the decal is interested in. </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">kPosition</span></td>
    <td>Terrain space position to center the decal around. </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">uiSize</span></td>
    <td>Side length and breadth, in terrain space, of the decal </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_terrain_decal_1adf5e12e78a40f20979652b123cc1d9ce"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">NiUInt8</span>  UpdateDecal(<br/><span class="NDLSystemFont"><a href="NiTerrain.htm">NiTerrain</a></span>* pkTerrain, <br/>float fDeltaTime = 0.0f)</p>
<p class="NDLRefMemberDescription">UpdateDecal is responsible for keeping track of the lifespan of this decal and updating its alpha according to distance from camera and time until death. </p>
<p class="NDLRefMemberDetailedDescription">This function should be called every frame.</p>
<p class="NDLRefMemberDetailedDescription">Return values: returns 0 when the decal doesn't require an update returns 1 when the decal has reached the end of its lifespan returns 2 when the decal has been updated</p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">pkTerrain</span></td>
    <td>The terrain to which this decal belongs </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">fDeltaTime</span></td>
    <td>Optional time that has elapsed since the last update, required if a timer is in use. </td>
</tr>
<tr>
    <td><em>Return Value</em></td>
    <td>Integer return value listed above </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_terrain_decal_1ab7cd6ccd23fc44b4c68fd8fcc86cde49"></a>
<p class="NDLRefMemberFunction">void  BuildMesh(<span class="NDLSystemFont"><a href="NiTerrain.htm">NiTerrain</a></span>* pkTerrain)</p>
<p class="NDLRefMemberDescription">Rebuild the mesh based on the location on the terrain. </p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">pkTerrain</span></td>
    <td>terrain the decal is on </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_terrain_decal_1a6731b42b9c653025698009a3c0b66716"></a>
<p class="NDLRefMemberFunction">void  AdjustToCamera(const <span class="NDLSystemFont"><a href="../NiMain/NiCamera.htm">NiCamera</a></span>* pkCamera)</p>
<p class="NDLRefMemberDescription">Adjust the decal according to the camera viewing it. </p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">pkCamera</span></td>
    <td>Camera to adjust the decal to </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_terrain_decal_1a24a1923ddb03abd7c1155efa4738774f"></a>
<p class="NDLRefMemberFunction">void  NotifyTerrainChanged(<span class="NDLSystemFont"><a href="../NiMain/NiRect.htm">NiRect</a></span>&lt;<span class="NDLSystemFont"><a href="../Namespaces/efd.htm#namespaceefd_1aab8784cd0d3fb2fa32b479bd64702149">efd::SInt32</a></span>&gt;& kTerrainRegion)</p>
<p class="NDLRefMemberDescription">Notify the decal that the terrain has changed in the given region. </p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">kTerrainRegion</span></td>
    <td>region where the terrain has changed </td>
</tr>

        </tbody>
    </table>
</div>


<a name="member_get_&_set"></a>
<p class="NDLRefHead1">Member Get & Set</p>


<a name="class_ni_terrain_decal_1a52d5b97924a23056e95a1fc5d004e04d"></a>
<p class="NDLRefMemberFunction">void  RequestUpdate()</p>
<p class="NDLRefMemberDescription">Mark this decal is requiring an update in the next update loop. </p>

<a name="class_ni_terrain_decal_1ac751ec03f406c4ed227927eba02b8cec"></a>
<p class="NDLRefMemberFunction">void  SetDecayStartTime(float fDecayTime)</p>
<p class="NDLRefMemberDescription">Set the accumulated app time at which this decal will begin alpha decay. </p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">fDecayTime</span></td>
    <td>Time at which decay begins. </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_terrain_decal_1a0a4415534bd084ec2396de5a70fc0f8b"></a>
<p class="NDLRefMemberFunction">void  SetFadingDistance(float fMaxDistance)</p>
<p class="NDLRefMemberDescription">Set the distance at which the decal will become completely transparent. </p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">fMaxDistance</span></td>
    <td>Maximum distance from the camera that the decal will be slightly visible from </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_terrain_decal_1a5d2a11f02ec22044d97b078d0b9e4f8d"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">NiBool</span>  GetRequiresUpdate()</p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><em>Return Value</em></td>
    <td>true if this decal requires an update in the next update cycle </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_terrain_decal_1a07edeaca4e51ae316946421c9e3d48eb"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont"><a href="../efd/efd__SmartPointer.htm">NiMeshPtr</a></span>  GetMesh()</p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><em>Return Value</em></td>
    <td>a pointer to the internal decal mesh, or NULL if the mesh has not yet been initialized. </td>
</tr>

        </tbody>
    </table>
</div>


 
<!--kadov_tag{{<placeholder id="footer">}}-->

</body>

</html>
