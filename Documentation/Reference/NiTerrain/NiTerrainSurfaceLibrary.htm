<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>

<title>NiTerrainSurfaceLibrary</title>
<!--(Begin Meta)================================================================================-->

<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="Originator" content="Expedition" />
<meta name="Generator" content="DoxyConvert by Emergent Game Technologies - http://emergent.net" />

<meta name="Last-Updated" content="%lastupdated%" />

<!--(End Meta)==================================================================================-->
    
<!--(Begin Links)===============================================================================-->

<link rel="stylesheet" href="../../shared/Emergent.css" type="text/css" />

<!--(End Links)=================================================================================-->

</head>
  
<!--(Body)======================================================================================-->
<body lang="EN-US">
<script src="../../shared/NavScript.js" language="JavaScript1.2" type="text/javascript"></script>
<script language="JavaScript1.2" type="text/javascript">WriteNavLink(2);</script>

<p class="NDLRefHeadClassTitle">NiTerrainSurfaceLibrary</p>
<p class="NDLRefParentage">: public <span class="NDLSystemFont"><a href="../NiMain/NiRefObject.htm">NiRefObject</a></span></p>


<p class="NDLRefHeaderFile">&lt;NiTerrainSurfaceLibrary.h&gt;</p>

<p class="NDLRefHead1" style="text-align: center; ">
<div class="FigureContainer">
  <img src="./images/class_ni_terrain_surface_library.gif" alt="Inheritance graph for NiTerrainSurfaceLibrary"/>
  <p class="FigureCaption">Inheritance graph for NiTerrainSurfaceLibrary</p>
</div>
</p>

<p class="NDLRefHead1">Description</p>
<p class="NDLNormal">This class is used to store and manage a set of Surface packages that can be used on multiple terrains at a time. </p>

<a name="public_methods"></a>
<p class="NDLRefHead1">Public Methods</p>


<a name="class_ni_terrain_surface_library_1afad94ac1a1a9fd6c8d3b75d920fcb847"></a>
<p class="NDLRefMemberFunction">NiTerrainSurfaceLibrary(<span class="NDLSystemFont"><a href="NiTerrainAssetResolverBase.htm">NiTerrainAssetResolverBase</a></span>* pkResolver)</p>
<p class="NDLRefMemberDescription">Constructor specifying the asset resolver implementation to use when loading packages. </p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">pkResolver</span></td>
    <td>The implementation of <span class="NDLSystemFont"><a href="NiTerrainAssetResolverBase.htm">NiTerrainAssetResolverBase</a></span> to use </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_terrain_surface_library_1acc720beb2753b25f64e35f51296d353c"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont"><a href="NiSurfacePackage.htm">NiSurfacePackage</a></span>*  FindPackageByName(<span class="NDLSystemFont"><a href="../efd/efd__utf8string.htm">efd::utf8string</a></span> kPackageName)</p>
<p class="NDLRefMemberDescription">Find a loaded package by the package name. </p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">kPackageName</span></td>
    <td>The name of the package to find </td>
</tr>
<tr>
    <td><em>Return Value</em></td>
    <td>A pointer to the package if it has been loaded into the library </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_terrain_surface_library_1ada76003d70fbc94396f8b546bde75de8"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont"><a href="NiSurfacePackage.htm">NiSurfacePackage</a></span>*  FindPackageByAsset(<span class="NDLSystemFont"><a href="../efd/efd__utf8string.htm">efd::utf8string</a></span> kPackageAssetID)</p>
<p class="NDLRefMemberDescription">Find a loaded package by the package asset ID. </p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">kPackageAssetID</span></td>
    <td>The asset ID of the package to find </td>
</tr>
<tr>
    <td><em>Return Value</em></td>
    <td>A pointer to the package if it has been loaded into the library </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_terrain_surface_library_1a110cbb15cd5c5545f7e243976e7b34b9"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont"><a href="NiSurfacePackage.htm">NiSurfacePackage</a></span>*  FindPackageByFile(<span class="NDLSystemFont"><a href="../efd/efd__utf8string.htm">efd::utf8string</a></span> kPackageFilename)</p>
<p class="NDLRefMemberDescription">Find a loaded package by the absolute filename. </p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">kPackageFilename</span></td>
    <td>The absolute filename of the package to find </td>
</tr>
<tr>
    <td><em>Return Value</em></td>
    <td>A pointer to the package if it has been loaded into the library </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_terrain_surface_library_1a1f150dd23f2913a11198ea01c443056d"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont"><a href="NiSurface.htm">NiSurface</a></span>*  FindSurfaceByName(<br/><span class="NDLSystemFont"><a href="../efd/efd__utf8string.htm">efd::utf8string</a></span> kPackageName, <br/><span class="NDLSystemFont"><a href="../efd/efd__utf8string.htm">efd::utf8string</a></span> kSurfaceName)</p>
<p class="NDLRefMemberDescription">Find a surface that has been loaded by the surface name and the package name. </p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">kPackageName</span></td>
    <td>The name of the package containing the surface </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">kSurfaceName</span></td>
    <td>The name of the surface being queried </td>
</tr>
<tr>
    <td><em>Return Value</em></td>
    <td>A pointer to the surface if it has been loaded into the library </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_terrain_surface_library_1a2b7f8c2c69f22e29579d9b114ea73bc5"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont"><a href="NiSurface.htm">NiSurface</a></span>*  FindSurfaceByAsset(<br/><span class="NDLSystemFont"><a href="../efd/efd__utf8string.htm">efd::utf8string</a></span> kPackageAssetID, <br/><span class="NDLSystemFont"><a href="../efd/efd__utf8string.htm">efd::utf8string</a></span> kSurfaceName)</p>
<p class="NDLRefMemberDescription">Find a surface that has been loaded by the surface name and the package asset ID. </p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">kPackageAssetID</span></td>
    <td>The asset ID of the package containing the surface </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">kSurfaceName</span></td>
    <td>The name of the surface being queried </td>
</tr>
<tr>
    <td><em>Return Value</em></td>
    <td>A pointer to the surface if it has been loaded into the library </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_terrain_surface_library_1a628f63081728c78e7ee4220120a0db7e"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont"><a href="NiSurface.htm">NiSurface</a></span>*  FindSurfaceByFile(<br/><span class="NDLSystemFont"><a href="../efd/efd__utf8string.htm">efd::utf8string</a></span> kPackageFilename, <br/><span class="NDLSystemFont"><a href="../efd/efd__utf8string.htm">efd::utf8string</a></span> kSurfaceName)</p>
<p class="NDLRefMemberDescription">Find a surface that has been loaded by the surface name and the package filename. </p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">kPackageFilename</span></td>
    <td>The absolute filename of the package containing the surface </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">kSurfaceName</span></td>
    <td>The name of the surface being queried </td>
</tr>
<tr>
    <td><em>Return Value</em></td>
    <td>A pointer to the surface if it has been loaded into the library </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_terrain_surface_library_1a0772fa716de43a03edaeee612da6ca1c"></a>
<p class="NDLRefMemberFunction">void  AddPackage(<span class="NDLSystemFont"><a href="NiSurfacePackage.htm">NiSurfacePackage</a></span>* pkPackage)</p>
<p class="NDLRefMemberDescription">Add a package object to the surface library manually. </p>
<p class="NDLRefMemberDetailedDescription">NOTE: Any packages that already exist within the library under the same name, assetID, or filename will be removed.</p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">pkPackage</span></td>
    <td>The package to add to the library </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_terrain_surface_library_1a566a6ee9a2d14ce0a6a607f120758a5e"></a>
<p class="NDLRefMemberFunction">void  InjectReference(const <span class="NDLSystemFont"><a href="NiTerrainAssetReference.htm">NiTerrainAssetReference</a></span>& kReference)</p>
<p class="NDLRefMemberDescription">Inject a package reference into the library to request it to load that package. </p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">kReference</span></td>
    <td>The reference to the package to bring into the library </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_terrain_surface_library_1a241771a2faa4777c1cb9bc80659a7a7c"></a>
<p class="NDLRefMemberFunction">template &lt;class TargetType  , typename CallbackType  &gt; void  RegisterReference(<br/>const <span class="NDLSystemFont"><a href="NiTerrainAssetReference.htm">NiTerrainAssetReference</a></span>& kReference, <br/>TargetType* pkTarget, <br/>CallbackType kCallback)</p>
<p class="NDLRefMemberDescription">Register a package reference with the surface library to indicate that an object requires the data stored in the referenced package. </p>
<p class="NDLRefMemberDetailedDescription">The Surface library will attempt to load the surface package at the reference, and notify the caller through the callback interface by calling the following code:</p>
<p class="NDLRefMemberDetailedDescription">pkTarget-&gt;kCallback(NiSurfacePackage* pkPackage, const efd::utf8string& kAssetID)</p>
<p class="NDLRefMemberDetailedDescription">NOTE: The callback must match this signature for the function to compile correctly.</p>
<p class="NDLRefMemberDetailedDescription">Calls to this function must be matched with similar calls to DeregisterReference The library will continue calling this callback every time the surface package is loaded.</p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">kReference</span></td>
    <td>A reference to the package the caller is referencing </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">pkTarget</span></td>
    <td>The object to callback to when the referenced package is available </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">kCallback</span></td>
    <td>The function pointer to the member function of the target to callback to. The callback function must be of the described type. </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_terrain_surface_library_1ab25fe333250604055d3b67ec3dfab377"></a>
<p class="NDLRefMemberFunction">template &lt;class TargetType  , typename CallbackType  &gt; void  DeregisterReference(<br/>const <span class="NDLSystemFont"><a href="NiTerrainAssetReference.htm">NiTerrainAssetReference</a></span>& kReference, <br/>TargetType* pkTarget, <br/>CallbackType kCallback)</p>
<p class="NDLRefMemberDescription">Deregister a package reference from the library. </p>
<p class="NDLRefMemberDetailedDescription">The library will remove the target object from the list of objects to callback to when the package changes.</p>
<p class="NDLRefMemberDetailedDescription">Calls to this function must be matched with similar calls to RegisterReference</p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">kReference</span></td>
    <td>A reference to the package the caller is referencing </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">pkTarget</span></td>
    <td>The object to callback to when the referenced package is available </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">kCallback</span></td>
    <td>The function pointer to the member function of the target to callback to. The callback function must be of the described type. </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_terrain_surface_library_1a0008e7892f16ba4ba1270f483dcd5333"></a>
<p class="NDLRefMemberFunction">void  RequestReload(<span class="NDLSystemFont"><a href="NiSurfacePackage.htm">NiSurfacePackage</a></span>* pkPackage)</p>
<p class="NDLRefMemberDescription">Request that a package be reloaded from disk. </p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">pkPackage</span></td>
    <td>The package to reload </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_terrain_surface_library_1a83bec86f1353d41c4b0e4b5322348826"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">bool</span>  SavePackage(<span class="NDLSystemFont"><a href="NiSurfacePackage.htm">NiSurfacePackage</a></span>* pkPackage)</p>
<p class="NDLRefMemberDescription">Save a package back to it's file. </p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">pkPackage</span></td>
    <td>The package to save to disk </td>
</tr>
<tr>
    <td><em>Return Value</em></td>
    <td>true if the save was successful </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_terrain_surface_library_1a7505e30e8500d720f70cf16ad039dc32"></a>
<p class="NDLRefMemberFunction">void  FlushLoadedPackages()</p>
<p class="NDLRefMemberDescription">Remove all packages from the library completely. </p>
<p class="NDLRefMemberDetailedDescription">This function should not be called unless the caller is sure that no packages in the library are being used. </p>

<a name="class_ni_terrain_surface_library_1ab8eeedc6e432725f862ac06d1f8452e0"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont"><a href="NiSurfacePackage.htm">NiSurfacePackage</a></span>*  ReadPackage(<span class="NDLSystemFont"><a href="../efd/efd__utf8string.htm">efd::utf8string</a></span> kFilename)</p>
<p class="NDLRefMemberDescription">Read a package from a file. </p>
<p class="NDLRefMemberDetailedDescription">This package will not be added to library and this function is exposed to allow a user to inspect packages without needing to load the textures of the package. Useful when migrating data or inspecting the configuration. The caller must take ownership of the returned object.</p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">kFilename</span></td>
    <td>the filename of the package to load </td>
</tr>
<tr>
    <td><em>Return Value</em></td>
    <td>A new <span class="NDLSystemFont"><a href="NiSurfacePackage.htm">NiSurfacePackage</a></span> loaded from the file or NULL if the package could not be read </td>
</tr>

        </tbody>
    </table>
</div>


 
<!--kadov_tag{{<placeholder id="footer">}}-->

</body>

</html>
