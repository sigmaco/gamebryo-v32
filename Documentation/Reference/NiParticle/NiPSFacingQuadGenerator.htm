<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>

<title>NiPSFacingQuadGenerator</title>
<!--(Begin Meta)================================================================================-->

<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="Originator" content="Expedition" />
<meta name="Generator" content="DoxyConvert by Emergent Game Technologies - http://emergent.net" />

<meta name="Last-Updated" content="%lastupdated%" />

<!--(End Meta)==================================================================================-->
    
<!--(Begin Links)===============================================================================-->

<link rel="stylesheet" href="../../shared/Emergent.css" type="text/css" />

<!--(End Links)=================================================================================-->

</head>
  
<!--(Body)======================================================================================-->
<body lang="EN-US">
<script src="../../shared/NavScript.js" language="JavaScript1.2" type="text/javascript"></script>
<script language="JavaScript1.2" type="text/javascript">WriteNavLink(2);</script>

<p class="NDLRefHeadClassTitle">NiPSFacingQuadGenerator</p>
<p class="NDLRefParentage">: public <span class="NDLSystemFont"><a href="../NiMesh/NiMeshModifier.htm">NiMeshModifier</a></span></p>


<p class="NDLRefHeaderFile">&lt;NiPSFacingQuadGenerator.h&gt;</p>

<p class="NDLRefHead1" style="text-align: center; ">
<div class="FigureContainer">
  <img src="./images/class_ni_p_s_facing_quad_generator.gif" alt="Inheritance graph for NiPSFacingQuadGenerator"/>
  <p class="FigureCaption">Inheritance graph for NiPSFacingQuadGenerator</p>
</div>
</p>

<p class="NDLRefHead1">Description</p>
<p class="NDLNormal">A mesh modifier that uses particle system data to generate camera-facing quads. </p>
<p class="NDLNormal">Each quad is actually two triangles. The texture coordinates for each quad are fixed and range from 0 to 1. The normals for each vertex are perpendicular to the quad face. The quads are rotated in the plane of the camera if rotation data exists. Vertex colors are used if color data exists.</p>
<p class="NDLNormal">
<p class="NDLNormal">This mesh modifier must be attached to an <span class="NDLSystemFont"><a href="NiPSParticleSystem.htm">NiPSParticleSystem</a></span> object. </p></p>

<a name="construction_and_destruction"></a>
<p class="NDLRefHead1">Construction and Destruction</p>


<a name="class_ni_p_s_facing_quad_generator_1a45c6ecb9d1a95f376f331e214433e430"></a>
<p class="NDLRefMemberFunction">NiPSFacingQuadGenerator()</p>
<p class="NDLRefMemberDescription">Default constructor. </p>
<a name="base_class_overrides"></a>
<p class="NDLRefHead1">Base Class Overrides</p>


<a name="class_ni_p_s_facing_quad_generator_1a5384a8e468535b4dc5d74a14cc85cd77"></a>
<p class="NDLRefMemberFunction">virtual <span class="NDLSystemFont">bool</span>  Attach(<span class="NDLSystemFont"><a href="../NiMesh/NiMesh.htm">NiMesh</a></span>* pkMesh)</p>
<p class="NDLRefMemberDescription">Attach is called when a modifier is attached to a mesh or is otherwise required to do any set-up need for updating. </p>
<p class="NDLRefMemberDetailedDescription">Most commonly, the modifier will add <span class="NDLSystemFont"><a href="../NiFloodgate/NiStreamProcessor.htm">NiStreamProcessor</a></span> (Floodgate) tasks and attach kernels, input streams, output streams, etc. Any of these streams may be associated with a data stream on the mesh.</p>
<p class="NDLRefMemberDetailedDescription">
<p class="NDLRefMemberDetailedDescription">AreRequirementsMet should be called prior to this method. This allows Attach to be leaner in implementation. This behavior is enforced by <span class="NDLSystemFont"><a href="../NiMesh/NiMesh.htm">NiMesh</a></span>. </p></p>

<a name="class_ni_p_s_facing_quad_generator_1ae597f2202baa6560ba5e42dcd00caf51"></a>
<p class="NDLRefMemberFunction">virtual <span class="NDLSystemFont">bool</span>  Detach(<span class="NDLSystemFont"><a href="../NiMesh/NiMesh.htm">NiMesh</a></span>* pkMesh)</p>
<p class="NDLRefMemberDescription">Performs any work needed to remove the modifier from a mesh. </p>
<p class="NDLRefMemberDetailedDescription">The calling function is responsible for ensuring that all outstanding Floodgate tasks are completed. All tasks should be deleted, streams released, etc. Code in this function can assume that CompleteTasks has been performed for all sync points. </p>

<a name="class_ni_p_s_facing_quad_generator_1adcef85115773cd6e489c043f86f414f0"></a>
<p class="NDLRefMemberFunction">virtual <span class="NDLSystemFont">bool</span>  SubmitTasks(<br/><span class="NDLSystemFont"><a href="../NiMesh/NiMesh.htm">NiMesh</a></span>* pkMesh, <br/><span class="NDLSystemFont"><a href="../NiMain/NiSyncArgs.htm">NiSyncArgs</a></span>* pkArgs, <br/><span class="NDLSystemFont"><a href="../NiFloodgate/NiSPWorkflowManager.htm">NiSPWorkflowManager</a></span>* pkWFManager)</p>
<p class="NDLRefMemberDescription">This function is the entry point for an update, when a parallel processing modifier will submit its Floodgate tasks to the given workflow manager. </p>
<p class="NDLRefMemberDetailedDescription">Mesh modifiers that do not do any parallel work may choose to use this function as the primary work function. It will be called whenever a specific supported start sync point is hit.</p>
<p class="NDLRefMemberDetailedDescription"></p>
<p class="NDLRefMemberDetailedDescription">
<p class="NDLRefMemberDetailedDescription">NiMeshModifier-derived classes must construct a Task Group ID for use with the <span class="NDLSystemFont"><a href="../NiFloodgate/NiSPWorkflowManager.htm">NiSPWorkflowManager</a></span> class using the <span class="NDLSystemFont"><a href="../NiMain/NiSyncArgs.htm">NiSyncArgs::GetTaskGroupID(SyncPoint, SyncPoint)</a></span> function. </p></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">pkMesh</span></td>
    <td>The mesh to which the modifier is attached. </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">pkArgs</span></td>
    <td>Information about the sync point to submit for. If the submit point is specific, then the pkArgs is guaranteed to be of a matching type. When the submit point is SYNC_UPDATE or SYNC_POST_UPDATE, pkArgs is of type <span class="NDLSystemFont"><a href="../NiMain/NiUpdateSyncArgs.htm">NiUpdateSyncArgs</a></span>. When the submit point is SYNC_VISIBLE, pkArgs is of type <span class="NDLSystemFont"><a href="../NiMain/NiCullingSyncArgs.htm">NiCullingSyncArgs</a></span>. No specific type is guaranteed at other times. </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">pkWFManager</span></td>
    <td>The workflow manager object that is to be used for Floodgate tasks. Tasks should be submitted using the functions provided by the workflow manager, and a <span class="NDLSystemFont"><a href="../NiFloodgate/NiSPWorkflow.htm">NiSPWorkflow</a></span> object will typically be provided in return. Mesh modifiers must hold on to the returned workflow in a smart pointer, as it is the only handle they have for completing the tasks and cleaning up.</td>
</tr>
<tr>
    <td><em>Return Value</em></td>
    <td>The function should return true if any tasks are submitted to the workflow manager.</td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_p_s_facing_quad_generator_1aee7d5db8c6d9639718c7bcf9a975f3ac"></a>
<p class="NDLRefMemberFunction">virtual <span class="NDLSystemFont">bool</span>  CompleteTasks(<br/><span class="NDLSystemFont"><a href="../NiMesh/NiMesh.htm">NiMesh</a></span>* pkMesh, <br/><span class="NDLSystemFont"><a href="../NiMain/NiSyncArgs.htm">NiSyncArgs</a></span>* pkArgs)</p>
<p class="NDLRefMemberDescription">This function is used to force tasks to complete. </p>
<p class="NDLRefMemberDetailedDescription">Tasks with the given start and end sync points must be forced to complete. The value NiAVObject::SYNC_ANY may be given for either the start or end sync point, in which case all the tasks starting or ending at that point should be completed. After completing all the tasks for a particular <span class="NDLSystemFont"><a href="../NiFloodgate/NiSPWorkflow.htm">NiSPWorkflow</a></span> object, any smart pointers to that workflow should be released.</p>
<p class="NDLRefMemberDetailedDescription">Mesh modifiers should, in this function, also do any other work required to complete an update step, such as computations that depend on the output of the Floodgate tasks.</p>
<p class="NDLRefMemberDetailedDescription">Mesh modifiers that do not use Floodgate could use this function to perform any work associated with the given pair of sync points.</p>
<p class="NDLRefMemberDetailedDescription">This function will only be called with SYNC_ANY or sync points that have been specified as starting or ending. There is no guarantee that the pkArgs variable is of any specific type.</p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><em>Return Value</em></td>
    <td>The function should return true if tasks were successfully completed. False indicates an error condition. </td>
</tr>

        </tbody>
    </table>
</div>



<a name="class_ni_p_s_facing_quad_generator_1a38149ed97f2717d12d8c41d06629629f"></a>
<p class="NDLRefMemberFunction">virtual <span class="NDLSystemFont">bool</span>  IsComplete(<br/><span class="NDLSystemFont"><a href="../NiMesh/NiMesh.htm">NiMesh</a></span>* pkMesh, <br/><span class="NDLSystemFont"><a href="../NiMain/NiSyncArgs.htm">NiSyncArgs</a></span>* pkArgs)</p>
<p class="NDLRefMemberDescription">Returns true if the mesh modifier has completed all required work for the provided sync points. </p>

<a name="class_ni_p_s_facing_quad_generator_1a2cd87f06e78035e5fe6c36d25460480d"></a>
<p class="NDLRefMemberFunction">virtual <span class="NDLSystemFont">bool</span>  AreRequirementsMet(<br/><span class="NDLSystemFont"><a href="../NiMesh/NiMesh.htm">NiMesh</a></span>* pkMesh, <br/>NiSystemDesc::RendererID ePlatform) const</p>
<p class="NDLRefMemberDescription">Validates the data stream requirements against the mesh. </p>
<p class="NDLRefMemberDetailedDescription">A caller may choose to remove the mesh modifier if the mesh does not satisfy the requirements.</p>
<p class="NDLRefMemberDetailedDescription">
<p class="NDLRefMemberDetailedDescription">In some cases, NiSystemDesc::RENDERER_GENERIC is passed into this method. In those scenarios, it should be treated as if any renderer is being passed in. If certain requirements are renderer specific allow RENDERER_GENERIC satisfy those requirements. </p></p>

<a name="class_ni_p_s_facing_quad_generator_1a3f8194cde3dcf44b971e6d2ff56b6794"></a>
<p class="NDLRefMemberFunction">virtual void  RetrieveRequirements(<span class="NDLSystemFont"><a href="../NiMesh/NiMeshRequirements.htm">NiMeshRequirements</a></span>& kRequirements) const</p>
<p class="NDLRefMemberDescription">Retrieve the requirements from the mesh modifier. </p>
 
<!--kadov_tag{{<placeholder id="footer">}}-->

</body>

</html>
