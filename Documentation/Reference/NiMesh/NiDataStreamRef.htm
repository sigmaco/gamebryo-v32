<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>

<title>NiDataStreamRef</title>
<!--(Begin Meta)================================================================================-->

<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="Originator" content="Expedition" />
<meta name="Generator" content="DoxyConvert by Emergent Game Technologies - http://emergent.net" />

<meta name="Last-Updated" content="%lastupdated%" />

<!--(End Meta)==================================================================================-->
    
<!--(Begin Links)===============================================================================-->

<link rel="stylesheet" href="../../shared/Emergent.css" type="text/css" />

<!--(End Links)=================================================================================-->

</head>
  
<!--(Body)======================================================================================-->
<body lang="EN-US">
<script src="../../shared/NavScript.js" language="JavaScript1.2" type="text/javascript"></script>
<script language="JavaScript1.2" type="text/javascript">WriteNavLink(2);</script>

<p class="NDLRefHeadClassTitle">NiDataStreamRef</p>
<p class="NDLRefParentage">: public <span class="NDLSystemFont"><a href="../efd/efd__MemObject.htm">efd::MemObject</a></span></p>


<p class="NDLRefHeaderFile">&lt;NiDataStreamRef.h&gt;</p>

<p class="NDLRefHead1" style="text-align: center; ">
<div class="FigureContainer">
  <img src="./images/class_ni_data_stream_ref.gif" alt="Inheritance graph for NiDataStreamRef"/>
  <p class="FigureCaption">Inheritance graph for NiDataStreamRef</p>
</div>
</p>

<p class="NDLRefHead1">Description</p>
<p class="NDLNormal">Helper class to encapsulate all common interactions with datastreams that are bound to an <span class="NDLSystemFont"><a href="NiMesh.htm">NiMesh</a></span>. </p>

<a name="public_methods"></a>
<p class="NDLRefHead1">Public Methods</p>


<a name="class_ni_data_stream_ref_1a24f770f513827020596d7a34088beb10"></a>
<p class="NDLRefMemberFunction">NiDataStreamRef()</p>
<p class="NDLRefMemberDescription">Constructor. </p>

<a name="class_ni_data_stream_ref_1ad891c8416ab3819e70e76cf52f73dd4e"></a>
<p class="NDLRefMemberFunction">NiDataStreamRef(const <span class="NDLSystemFont">NiDataStreamRef</span>& kOther)</p>
<p class="NDLRefMemberDescription">Copy Constructor. </p>

<a name="class_ni_data_stream_ref_1a5592bfe7d0f0ada247afd90173359dd2"></a>
<p class="NDLRefMemberFunction">~NiDataStreamRef()</p>
<p class="NDLRefMemberDescription">Destructor. </p>

<a name="class_ni_data_stream_ref_1ab24bdfd79569b2e9646d552c6947bd8d"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">NiDataStreamRef</span>&  operator=(const <span class="NDLSystemFont">NiDataStreamRef</span>& kSrc)</p>
<p class="NDLRefMemberDescription">Assignment operator. </p>

<a name="class_ni_data_stream_ref_1a3413f74670956a1250e23fd12a84334e"></a>
<p class="NDLRefMemberFunction">void  SetActiveCount(<br/><span class="NDLSystemFont">NiUInt32</span> uiSubmeshIdx, <br/><span class="NDLSystemFont">NiUInt32</span> uiCount)</p>
<p class="NDLRefMemberDescription">Sets the active number of items for a given submesh. </p>

<a name="class_ni_data_stream_ref_1a8d8a6b08e82eec722a7f61a7bbb093cf"></a>
<p class="NDLRefMemberFunction">void  Reset()</p>
<p class="NDLRefMemberDescription">Clear out all of the internal storage associated with this streamref. </p>

<a name="class_ni_data_stream_ref_1a4c234a7f758639053f8ecb34861bec9e"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">bool</span>  IsEqual(const <span class="NDLSystemFont">NiDataStreamRef</span>* pkOther) const</p>
<p class="NDLRefMemberDescription">Compare this stream ref with another stream ref. </p>

<a name="class_ni_data_stream_ref_1ada7435e6a64ffe6e355bf6abb9e99593"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">bool</span>  IsValid(<span class="NDLSystemFont"><a href="../NiMain/NiString.htm">NiString</a></span>* pkInvalidDescription = NULL) const</p>
<p class="NDLRefMemberDescription">Returns true if the data stream reference is valid for consumption by the renderers and <span class="NDLSystemFont"><a href="NiMeshAlgorithms.htm">NiMeshAlgorithms</a></span>. </p>
<p class="NDLRefMemberDetailedDescription">Checks if the data stream reference is non-null, if there is at least one entry in the submesh-to-region map, and if each entry in the submesh-to-region map references a valid region.</p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">pkInvalidDescription</span></td>
    <td>If provided, set to cause of failure. </td>
</tr>

        </tbody>
    </table>
</div>


<a name="instancing_methods"></a>
<p class="NDLRefHead1">Instancing Methods</p>

<p class="NDLRefMemberDescription"></p>
<p class="NDLRefMemberDescription">All instanced datastreams on a mesh must have the same count of struct instances per submesh. </p>

<a name="class_ni_data_stream_ref_1af380e832734e95f00b0f10823f607811"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">bool</span>  IsPerInstance() const</p>
<p class="NDLRefMemberDescription">Determine whether or not the datastream contains instanced data. </p>

<a name="class_ni_data_stream_ref_1a8c095f62a0286de0dfd0df4e19371b9c"></a>
<p class="NDLRefMemberFunction">void  SetPerInstance(<span class="NDLSystemFont">bool</span> bIsPerInstance)</p>
<p class="NDLRefMemberDescription">Set whether or not the datastream contains instanced data. </p>
<a name="iteration_helper_methods"></a>
<p class="NDLRefHead1">Iteration Helper Methods</p>


<a name="class_ni_data_stream_ref_1a32cab49265dff21a147dbda5b1f4d773"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">NiUInt32</span>  GetStride() const</p>
<p class="NDLRefMemberDescription">Get the stride of a single instance in the datastream. </p>

<a name="class_ni_data_stream_ref_1ad662261b899213a624931a1f1868f51d"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">NiUInt32</span>  GetSize() const</p>
<p class="NDLRefMemberDescription">Get the size of the buffer in bytes. </p>

<a name="class_ni_data_stream_ref_1a04e03b81171854b2d03d5383ccb89af9"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">NiUInt32</span>  GetTotalCount() const</p>
<p class="NDLRefMemberDescription">Gets the number of all items (verts, indices, etc) in the stream. </p>
<p class="NDLRefMemberDetailedDescription">
<p class="NDLRefMemberDetailedDescription">This ignores the region information. </p></p>

<a name="class_ni_data_stream_ref_1a48c98231dd1965f5814ce394ee7c7671"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">NiUInt32</span>  GetUniqueCount() const</p>
<p class="NDLRefMemberDescription">Search through all bound submesh regions, summing up the ranges for all uniquely defined regions. </p>
<p class="NDLRefMemberDetailedDescription"><span class="NDLSystemFont"><a href="NiDataStreamRef.htm#class_ni_data_stream_ref_1a48c98231dd1965f5814ce394ee7c7671">GetUniqueCount()</a></span> will differ from <span class="NDLSystemFont"><a href="NiDataStreamRef.htm#class_ni_data_stream_ref_1a04e03b81171854b2d03d5383ccb89af9">GetTotalCount()</a></span> if regions overlap or if there are portions of the data stream with no defined region bound to a submesh. </p>

<a name="class_ni_data_stream_ref_1a045aa576ee0e8fe409c08a13b4f731b9"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">NiUInt32</span>  GetCount(<span class="NDLSystemFont">NiUInt32</span> uiSubmeshIdx) const</p>
<p class="NDLRefMemberDescription">Gets the number of items (verts, indices, etc) bound to a given submesh. </p>

<a name="class_ni_data_stream_ref_1a9d35e41e6fad077d34f31b1ac0650641"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">NiUInt8</span>  GetAccessMask() const</p>
<p class="NDLRefMemberDescription">Get the access rights on the stream. </p>

<a name="class_ni_data_stream_ref_1a778c66dd645f5e2a7e34b33a6ce6f6f9"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont"><a href="NiDataStream.htm#class_ni_data_stream_1ad6c208b3047b3100e5da9ea08dabea0d">NiDataStream::Usage</a></span>  GetUsage() const</p>
<p class="NDLRefMemberDescription">Gets the usage of the stream (index, vertex, constant). </p>
<a name="nidatastream_access"></a>
<p class="NDLRefHead1">NiDataStream Access</p>


<a name="class_ni_data_stream_ref_1a4cc0fde50eb25d0736fc32bdf3895daa"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont"><a href="NiDataStream.htm">NiDataStream</a></span>*  GetDataStream()</p>
<p class="NDLRefMemberDescription">Get the datastream for this stream ref. </p>

<a name="class_ni_data_stream_ref_1a1b01de60dbdf6cdcd80cb739a9cf1743"></a>
<p class="NDLRefMemberFunction">const <span class="NDLSystemFont"><a href="NiDataStream.htm">NiDataStream</a></span>*  GetDataStream() const</p>
<p class="NDLRefMemberDescription">Get the datastream for this stream ref (const-safe). </p>

<a name="class_ni_data_stream_ref_1aefe076acd6fc899409b3f9fd8903f30d"></a>
<p class="NDLRefMemberFunction">void  SetDataStream(<span class="NDLSystemFont"><a href="NiDataStream.htm">NiDataStream</a></span>* pkDataStream)</p>
<p class="NDLRefMemberDescription">Set the datastream for this stream ref. </p>
<p class="NDLRefMemberDetailedDescription">
<p class="NDLRefMemberDetailedDescription">Note that this will potentially trigger a reallocation of the internal semantic mapping array if the size is not the same. The contents will be preserved. </p></p>
<a name="nidatastream::region_access"></a>
<p class="NDLRefHead1">NiDataStream::Region Access</p>


<a name="class_ni_data_stream_ref_1aa0591d0d6a41e70a480f7c16830b4dd6"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont"><a href="NiDataStream__Region.htm">NiDataStream::Region</a></span>&  GetRegionForSubmesh(<span class="NDLSystemFont">NiUInt32</span> uiSubmeshIdx)</p>
<p class="NDLRefMemberDescription">Get the region of the datastream associated with this submesh. </p>

<a name="class_ni_data_stream_ref_1aedd58891b7d22f40f55e1f33c4f1d861"></a>
<p class="NDLRefMemberFunction">const <span class="NDLSystemFont"><a href="NiDataStream__Region.htm">NiDataStream::Region</a></span>&  GetRegionForSubmesh(<span class="NDLSystemFont">NiUInt32</span> uiSubmeshIdx) const</p>
<p class="NDLRefMemberDescription">Get the region of the datastream associated with this submesh (const-safe). </p>

<a name="class_ni_data_stream_ref_1ab01a4a0dbaeaf531b3ee51b814fb4989"></a>
<p class="NDLRefMemberFunction">void  BindRegionToSubmesh(<br/><span class="NDLSystemFont">NiUInt32</span> uiSubmeshIdx, <br/>const <span class="NDLSystemFont"><a href="NiDataStream__Region.htm">NiDataStream::Region</a></span>& kRegion)</p>
<p class="NDLRefMemberDescription">When using the datastream for a given submesh, it should only use the specified sub-region of the datastream. </p>
<p class="NDLRefMemberDetailedDescription">This method will add the region to the datastream if it doesn't already exist. </p>

<a name="class_ni_data_stream_ref_1a759f421b8fc4b4ab980de7be4eb059a3"></a>
<p class="NDLRefMemberFunction">void  BindRegionToSubmesh(<br/><span class="NDLSystemFont">NiUInt32</span> uiSubmeshIdx, <br/><span class="NDLSystemFont">NiUInt32</span> uiDataStreamRegionIdx)</p>
<p class="NDLRefMemberDescription">When using the datastream for a given submesh, it should only use the specified sub-region of the datastream. </p>
<p class="NDLRefMemberDetailedDescription">This method must reference a pre-existing region on the datastream. </p>
<a name="nidatastreamelement_description_access"></a>
<p class="NDLRefHead1">NiDataStreamElement Description Access</p>


<a name="class_ni_data_stream_ref_1a7bc91dc409d5f42a1e3da5727a314ac5"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">NiUInt32</span>  GetElementDescCount() const</p>
<p class="NDLRefMemberDescription">Get the element descriptions contained within this StreamRef. </p>

<a name="class_ni_data_stream_ref_1a8dbd166c40c7fb95ee6f3a992806078b"></a>
<p class="NDLRefMemberFunction">const <span class="NDLSystemFont"><a href="NiDataStreamElement.htm">NiDataStreamElement</a></span>&  GetElementDescAt(<span class="NDLSystemFont">NiUInt32</span> uiElementDescIdx) const</p>
<p class="NDLRefMemberDescription">Get the element description at the specified index. </p>

<a name="class_ni_data_stream_ref_1ad12d7016d34048816be08a06dbbcbd71"></a>
<p class="NDLRefMemberFunction">const <span class="NDLSystemFont"><a href="../NiMain/NiFixedString.htm">NiFixedString</a></span>&  GetSemanticNameAt(<span class="NDLSystemFont">NiUInt32</span> uiElementDescIdx) const</p>
<p class="NDLRefMemberDescription">Get the semantic name bound to the specified element description index. </p>

<a name="class_ni_data_stream_ref_1a0394b6e937b5b4ca2e5ee2e55a1ca0cd"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">NiUInt32</span>  GetSemanticIndexAt(<span class="NDLSystemFont">NiUInt32</span> uiElementDescIdx) const</p>
<p class="NDLRefMemberDescription">Get the semantic index bound to the specified element description index. </p>

<a name="class_ni_data_stream_ref_1adff3f57ba1640a6a534d4f2b3b1ebe98"></a>
<p class="NDLRefMemberFunction">const <span class="NDLSystemFont"><a href="NiDataStreamElement.htm">NiDataStreamElement</a></span>&  FindElementDesc(<br/>const <span class="NDLSystemFont"><a href="../NiMain/NiFixedString.htm">NiFixedString</a></span>& kSemantic, <br/><span class="NDLSystemFont">NiUInt32</span> uiSemanticIdx = 0) const</p>
<p class="NDLRefMemberDescription">Get the element description bound to the specified semantic. </p>

<a name="class_ni_data_stream_ref_1a36d20b54eed8a923a4ff5fad405a7543"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">NiUInt32</span>  FindElementDescIndex(<br/>const <span class="NDLSystemFont"><a href="../NiMain/NiFixedString.htm">NiFixedString</a></span>& kSemantic, <br/><span class="NDLSystemFont">NiUInt32</span> uiSemanticIdx = 0) const</p>
<p class="NDLRefMemberDescription">Get the index of the element description bound to the specified semantic. </p>
<p class="NDLRefMemberDetailedDescription">The return is UINT_MAX if not found. </p>

<a name="class_ni_data_stream_ref_1a4f50d055081cb79e417c425fbd731a0c"></a>
<p class="NDLRefMemberFunction">void  BindSemanticToElementDescAt(<br/><span class="NDLSystemFont">NiUInt32</span> uiElementIdx, <br/>const <span class="NDLSystemFont"><a href="../NiMain/NiFixedString.htm">NiFixedString</a></span>& kSemantic, <br/><span class="NDLSystemFont">NiUInt32</span> uiSemanticIdx)</p>
<p class="NDLRefMemberDescription">Set the semantic for the specified element description index. </p>
<p class="NDLRefMemberDetailedDescription">The element description index must already exist on the <span class="NDLSystemFont"><a href="NiDataStream.htm">NiDataStream</a></span> for this method to succeed. </p>

<a name="class_ni_data_stream_ref_1a78529a10ba6e095a02b1d4857d7d29a1"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">NiUInt32</span>  GetSemanticCount(const <span class="NDLSystemFont"><a href="../NiMain/NiFixedString.htm">NiFixedString</a></span>& kSemantic) const</p>
<p class="NDLRefMemberDescription">Get the number of element descs that match the input semantic name. </p>

<a name="class_ni_data_stream_ref_1a37dda93c3d1b3bda1c31d8baa7fd8fa7"></a>
<p class="NDLRefMemberFunction"><span class="NDLSystemFont">NiInt32</span>  GetMaxIndexBySemantic(const <span class="NDLSystemFont"><a href="../NiMain/NiFixedString.htm">NiFixedString</a></span>& kSemantic) const</p>
<p class="NDLRefMemberDescription">Gets the largest semantic index matching the input semantic name. </p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><em>Return Value</em></td>
    <td>-1 if not found, otherwise the index. </td>
</tr>

        </tbody>
    </table>
</div>


 
<!--kadov_tag{{<placeholder id="footer">}}-->

</body>

</html>
