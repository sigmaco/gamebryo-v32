<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>

<title>NiSearchPath</title>
<!--(Begin Meta)===================================================-->

<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="Originator" content="Pre-Expedition-RH" />
<meta name="Generator" content="Palimpsest by Emergent Game Technologies - http://emergent.net" />
<meta name="Last-Updated" content="%lastupdated%" />

<!--(End Meta)====================================================-->
    
<!--(Begin Links)===================================================-->
    
<link rel="stylesheet" href="../../shared/Emergent.css" type="text/css" />

<!--(End Links)=====================================================-->

</head>

<!--(Begin Body)===================================================-->
<body lang="EN-US">
<script src="../../shared/NavScript.js" language="JavaScript1.2"
type="text/javascript">
</script><script language="JavaScript1.2" type="text/javascript">
WriteNavLink(2);
</script>

<p class="NDLRefHeadClassTitle">NiSearchPath</p>

<p class="NDLRefParentage">: public <a href=
"NiMemObject.htm"><span>NiMemObject</span></a></p>

<p class="NDLRefHeaderFile">&lt;NiSearchPath.h&gt;</p>

<p class="NDLRefHead1">Description</p>

<p>A class that, given an overarching search path and a filename
to be found, generates a set of reasonable possible paths to the
file. The class does not actually search the file system for the
file, it only generates a set of paths that may be used as
desired.</p>

<p class="NDLRefHead1">Constructors</p>

<p class="NDLRefMemberFunction">NiSearchPath()</p>

<p class="NDLRefMemberDescription">Creates a search path object
with empty strings for the file path and reference path.</p>

<p class="NDLRefHead1">Static Member Functions</p>

<p class="NDLRefMemberFunction">static void SetDefaultPath(const
char* pcPath)</p>

<p class="NDLRefMemberFunction">static const char*
GetDefaultPath()</p>

<p class="NDLRefMemberDescription">These functions access and
change the global search path that <span class=
"NDLSystemFont">NiSearchPath</span> will always check as one of
the possible paths.</p>

<p class="NDLRefHead1">Supported Member Functions</p>

<p class="NDLRefMemberFunction">void SetFilePath(const char*
pcFilePath)</p>

<p class="NDLRefMemberDescription">Initializes the (partial) path
and name of the file for which the object is to construct
possible full paths. In general use, this function is called by
the texturing system with the name of the desired image file as
read from the NIF file. This function should be called prior to
calling <span class="NDLSystemFont">Reset</span> and iterating
over the paths.</p>

<p class="NDLRefMemberFunction">void SetReferencePath(const char*
pcReferencePath)</p>

<p class="NDLRefMemberDescription">The search path object assumes
that the file being located is referenced by another overarching
file (in most cases, the overarching file is a NIF file, and the
file for which the class is searching is an image file used by
the NIF). As a result, the path of this overarching file is of
use in trying to locate the desired search file. This function
initializes the (partial) path to the overarching file that
references the filename to be found. In general use, this
function is called by the streaming system with the path of the
current NIF file whose images are being loaded. This function
should be called prior to calling <span class=
"NDLSystemFont">Reset</span> and iterating over the paths.</p>

<p class="NDLRefMemberFunction">virtual void Reset()</p>

<p class="NDLRefMemberDescription">Resets the iterator to the
head of the list, preparing for iteration over the possible
paths. This must be called prior to a sequence of calls to
<span class="NDLSystemFont">GetNextSearchPath</span>.</p>

<p class="NDLRefMemberFunction">virtual bool
GetNextSearchPath(char* pcPath)</p>

<p class="NDLRefMemberDescription">If another possible path
exists in the set of possible paths, this function returns
<span class="NDLSystemFont">true</span> and copies at most
<span class="NDLSystemFont">NI_MAX_PATH</span> characters in
<span class="NDLSystemFont">pcPath</span> representing the next
possible path. If there are no more paths, this function returns
<span class="NDLSystemFont">false</span> and does not modify the
<span class="NDLSystemFont">pcPath</span> argument.</p>

<p class="NDLRefHead1">Notes</p><a name=
"Paths_Generated_by_NiSearchPath" id=
"Paths_Generated_by_NiSearchPath"></a>

<p class="NDLRefHead2">Paths Generated by NiSearchPath</p>

<p>By default, <span class="NDLSystemFont">NiSearchPath</span>
instances generate the following paths, in order, based on the
"Ref Path", "Default Path" and "File Path" (which is assumed to
consist of "File Dir"/"File Name"):</p>

<ul>
    <li>Using "File Path" directly</li>

    <li>Using ./"File Name" (i.e. looking in the current working
    directory)</li>

    <li>Using "Ref Path"/"File Path" (i.e. using the specified
    file and path, relative to the overarching file's path</li>

    <li>Using "Ref Path"/"File Name" (i.e. looking in the
    overarching file's directory)</li>

    <li>Using "Default Path"/"File Name" (i.e. looking in the
    default directory)</li>
</ul>

<!--kadov_tag{{<placeholder id="footer">}}-->

</body>

</html>
