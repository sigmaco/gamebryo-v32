<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>

<title>efd::IAssetServer</title>
<!--(Begin Meta)================================================================================-->

<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="Originator" content="Expedition" />
<meta name="Generator" content="DoxyConvert by Emergent Game Technologies - http://emergent.net" />

<meta name="Last-Updated" content="%lastupdated%" />

<!--(End Meta)==================================================================================-->
    
<!--(Begin Links)===============================================================================-->

<link rel="stylesheet" href="../../shared/Emergent.css" type="text/css" />

<!--(End Links)=================================================================================-->

</head>
  
<!--(Body)======================================================================================-->
<body lang="EN-US">
<script src="../../shared/NavScript.js" language="JavaScript1.2" type="text/javascript"></script>
<script language="JavaScript1.2" type="text/javascript">WriteNavLink(2);</script>

<p class="NDLRefHeadClassTitle">efd::IAssetServer</p>
<p class="NDLRefParentage">: public <span class="NDLSystemFont"><a href="efd__ISystemService.htm">efd::ISystemService</a></span></p>


<p class="NDLRefHeaderFile">&lt;IAssetServer.h&gt;</p>

<p class="NDLRefHead1" style="text-align: center; ">
<div class="FigureContainer">
  <img src="./images/classefd_1_1_i_asset_server.gif" alt="Inheritance graph for efd::IAssetServer"/>
  <p class="FigureCaption">Inheritance graph for efd::IAssetServer</p>
</div>
</p>


<a name="public_types"></a>
<p class="NDLRefHead1">Public Types</p>
<a name="classefd_1_1_i_asset_server_1ad34628ec8dc86c91e2f32e8cab3bcee7"></a>
<p class=NDLRefHead2>efd::IAssetServer::AssetChangeType</p>


<p class="NDLRefMemberDescription">Enumeration of possible asset change types used in the ChangeNotify method. </p>


<!--(Table)=========================================================-->
<div class="ReferenceTable">
<table>
  <thead>
	<tr>
        <th>Name</th>
	    <th>Description</th>
    </tr>
  </thead>
  <tbody>  
<tr>
    <td><span class="NDLSystemFont">kASSET_ADDED</span></td>
    <td>A new asset was added. </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">kASSET_UPDATED</span></td>
    <td>An existing asset was modified. </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">kASSET_DELETED</span></td>
    <td>An existing asset was deleted. </td>
</tr>

  </tbody>
</table>
</div>


<a name="public_methods"></a>
<p class="NDLRefHead1">Public Methods</p>


<a name="classefd_1_1_i_asset_server_1a3ca6745792de16b92d9e0d0546f234bf"></a>
<p class="NDLRefMemberFunction">virtual void  SendResponse(<br/><span class="NDLSystemFont"><a href="efd__AssetLocatorResponse.htm">AssetLocatorResponse</a></span>* pMessage, <br/>const <span class="NDLSystemFont"><a href="efd__Category.htm">Category</a></span>& category) = 0</p>
<p class="NDLRefMemberDescription">Sends an asset message to a specific category. </p>
<p class="NDLRefMemberDetailedDescription">This simply forwards the message to the <span class="NDLSystemFont"><a href="efd__MessageService.htm">MessageService</a></span> while ensuring that the message being sent is of the correct message type.</p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">pMessage</span></td>
    <td>Pointer to the Asset Response message to send. </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">category</span></td>
    <td>The <span class="NDLSystemFont"><a href="efd__Category.htm">Category</a></span> to send the response message to. </td>
</tr>

        </tbody>
    </table>
</div>



<a name="classefd_1_1_i_asset_server_1a7f2e0c77b61a4d88dff26539b3e388b8"></a>
<p class="NDLRefMemberFunction">virtual void  ChangeNotify(<br/>const <span class="NDLSystemFont"><a href="efd__utf8string.htm">efd::utf8string</a></span>& assetRelativePath, <br/><span class="NDLSystemFont"><a href="efd__IAssetServer.htm#classefd_1_1_i_asset_server_1ad34628ec8dc86c91e2f32e8cab3bcee7">AssetChangeType</a></span> changeType) = 0</p>
<p class="NDLRefMemberDescription">Notify the Asset Server that a particular asset file has been changed. </p>
<p class="NDLRefMemberDetailedDescription">No message is sent to clients until <span class="NDLSystemFont"><a href="efd__IAssetServer.htm#classefd_1_1_i_asset_server_1aaa93db744edce72401f64cf03446f9cf">SendChangeNotifications()</a></span> is called.</p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">assetRelativePath</span></td>
    <td>Relative path of the changed file in the Asset Web. </td>
</tr>
<tr>
    <td><span class="NDLSystemFont">changeType</span></td>
    <td>The type of change that has occurred </td>
</tr>

        </tbody>
    </table>
</div>



<a name="classefd_1_1_i_asset_server_1abe3529ca260c7c7a86127a6086d00e00"></a>
<p class="NDLRefMemberFunction">virtual <span class="NDLSystemFont">bool</span>  CheckAsset(const <span class="NDLSystemFont"><a href="efd__utf8string.htm">efd::utf8string</a></span>& assetRelativePath) = 0</p>
<p class="NDLRefMemberDescription">Check that an asset file is accounted for in the metadata. </p>
<p class="NDLRefMemberDetailedDescription">This is used during initialization to ensure that the assets in the file system are also listed in the metadata. </p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">assetRelativePath</span></td>
    <td>Relative path to the file in the asset-web.</td>
</tr>
<tr>
    <td><em>Return Value</em></td>
    <td>true if it succeeds, false if it fails. </td>
</tr>

        </tbody>
    </table>
</div>



<a name="classefd_1_1_i_asset_server_1a7ad2b477eead0428cde4910608c46be4"></a>
<p class="NDLRefMemberFunction">virtual void  CheckAssetDir(const <span class="NDLSystemFont"><a href="efd__utf8string.htm">efd::utf8string</a></span>& assetDirectroy) = 0</p>
<p class="NDLRefMemberDescription">Check that an asset directory actually contains all of the asset files that it is supposed to contain. </p>
<p class="NDLRefMemberDetailedDescription">Update metadata for any asset files that are missing, probably because they were intentionally deleted.</p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">assetDirectroy</span></td>
    <td>Relative path to the directory in the asset-web. </td>
</tr>

        </tbody>
    </table>
</div>



<a name="classefd_1_1_i_asset_server_1aaa93db744edce72401f64cf03446f9cf"></a>
<p class="NDLRefMemberFunction">virtual void  SendChangeNotifications() = 0</p>
<p class="NDLRefMemberDescription">Sends broadcast message to all client listeners notifying them that one or more assets have been updated in the Asset Web. </p>
<p class="NDLRefMemberDetailedDescription">The sent message will include the Asset ID and all its tags for each change. From this information, the listeners determine whether to initiate a reload of the assets. </p>

<a name="classefd_1_1_i_asset_server_1ad6d0627b5abd8dedbe7e4946311b45cd"></a>
<p class="NDLRefMemberFunction">virtual <span class="NDLSystemFont">efd::Bool</span>  AssetWebOpen(const <span class="NDLSystemFont"><a href="efd__utf8string.htm">efd::utf8string</a></span>& web_root) = 0</p>
<p class="NDLRefMemberDescription">Open the specified asset web location. </p>
<p class="NDLRefMemberDetailedDescription"></p>
<!--(Table)=====================================================================================-->
<div class="ReferenceTable">
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>  
<tr>
    <td><span class="NDLSystemFont">web_root</span></td>
    <td>The path of the asset-web to use for asset lookups. This can be a relative path or a platform-specific absolute path. </td>
</tr>

        </tbody>
    </table>
</div>


 
<!--kadov_tag{{<placeholder id="footer">}}-->

</body>

</html>
