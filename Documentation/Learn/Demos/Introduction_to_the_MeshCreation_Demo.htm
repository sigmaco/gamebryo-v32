<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>

<title>Introduction to the MeshCreation Demo</title>
<!--(Begin Meta)===================================================-->

<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="Originator" content="Pre-Expedition-RH" />
<meta name="Generator" content="Palimpsest by Emergent Game Technologies - http://emergent.net" />
<meta name="Last-Updated" content="%lastupdated%" />

<!--(End Meta)====================================================-->
    
<!--(Begin Links)===================================================-->
    
<link rel="stylesheet" href="../../shared/Emergent.css" type="text/css" />

<!--(End Links)=====================================================-->

</head>

<!--(Begin Body)===================================================-->
<body lang="EN-US">
<script src="../../shared/NavScript.js" language="JavaScript1.2" type="text/javascript"></script> <script language="JavaScript1.2" type="text/javascript">WriteNavLink(2);</script>

<h1>Introduction to the MeshCreation Demo</h1>

<div class="NDLFigureContainer">
    <img src="./images/MeshCreation.jpg" width="804" height="624" />
    <!-- <p class="NDLFigureCaption">{Figure caption}</h1> -->
</div>


<p>The MeshCreation demo provides programmers a practical 
 example of how to create <a HREF="../../Programmer/NiMesh/Creating_an_NiMesh_Object.htm">geometry</a>, 
 <a HREF="../../Programmer/NiMesh/Creating_a_Custom_Mesh_Modifier.htm">mesh 
 modifiers</a>, and <a HREF="../../Programmer/NiParticle/Particle_System_Programmatic_Creation.htm">particle 
 systems</a> programmatically. </p>

<h4>Terrain</h4>

<p>The terrain is generated from a bitmap file that represents 
 height values. The bitmap file is loaded, and the pixel data is read as 
 height values that are used to construct a large single mesh. A single 
 material is applied to the mesh for rendering. The material uses a unique 
 shader that blends multiple texture maps to achieve an appealing look 
 for terrain.</p>

<h4>Water</h4>

<p>Water is very difficult to do correctly when the artists 
 are constrained by walls of matching the water to the environment. In 
 this demonstration the water material and shader were purposely not the 
 focus of the demonstration. Rather, the purpose is to simulate water 
 that adapts dynamically to the surrounding terrain. This was implemented 
 with a <a HREF="../../Programmer/NiMesh/Creating_a_Custom_Mesh_Modifier.htm">custom 
 mesh modifier</a> and <a HREF="../../Programmer/NiFloodgate/Introduction_to_NiFloodgate.htm">Floodgate</a> 
 so that the simulation automatically takes advantage of multi-threaded 
 stream processing to maximize performance. Given the simple input of depth 
 we use the data to affect the water's translucency, color, and motion. 
 Closer to the edge we use vertex colors to make the water more green and 
 less blue. The magnitude of the waves also dissipates closer to the edge. 
 Moving the water level up and down shows clearly the dynamic nature of 
 the water simulation.</p>

<h4>Sky</h4>

<p>The sky geometry is constructed from a four sided pyramid. 
 The triangles of the pyramid are subdivided and unitized until the mesh 
 becomes a hemisphere. The triangles are facing inward to avoid being culled. 
 The sky dome is positioned below the terrain to hide the bottom edge of 
 the dome.</p>

<h4>Fog</h4>

<p>The fog is a custom particle system driven by the results 
 of the water simulation. The <span class="NDLSystemFont">NiWaterModifier</span> 
 class returns a stream of points that represent the fog conditions over 
 the water plane. The deeper the water, the heavier the fog. This demonstrates 
 how a mesh modifier can not only process data for rendering; it can also 
 produce output data streams that feed into other systems. In this example 
 the output stream is used as points to spawn the fog particles.</p>
 
<p>Note that it takes a few seconds for the
 &quot;Max Cloud Particles&quot; and &quot;Cloud Size&quot; sliders to have a
 noticeable effect, due to the relatively slow rate of particle growth and
 death.</p>


<p>The <a HREF="MeshCreation_Demo_Overview.htm">MeshCreation 
 Demo Overview</a> provides a description of the sample code.</p>

<!--kadov_tag{{<placeholder id="footer">}}-->
</body>

</html>
