<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>

<title>Creating Rag-dolls with Maya</title>
<!--(Begin Meta)===================================================-->

<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="Originator" content="Pre-Expedition-RH" />
<meta name="Generator" content="Palimpsest by Emergent Game Technologies - http://emergent.net" />
<meta name="Last-Updated" content="%lastupdated%" />

<!--(End Meta)====================================================-->
    
<!--(Begin Links)===================================================-->
    
<link rel="stylesheet" href="../../shared/Emergent.css" type="text/css" />

<!--(End Links)=====================================================-->

</head>

<!--(Begin Body)===================================================-->
<body lang="EN-US">
<script src="../../shared/NavScript.js" language="JavaScript1.2"
type="text/javascript">
</script><script language="JavaScript1.2" type="text/javascript">
WriteNavLink(2);
</script>

<h1>Creating Rag-dolls with Maya</h1>

<p>Rag-doll creation means producing a set of rigid bodies that
will be used to drive the bones of a character. The PhysX Maya
plug-in provides tools to create rag-dolls from skinned
characters, and the Gamebryo plug-in and export tool chain knows
how to process the rag-dolls ready for use in an application.
Read about and experiment with the PhysX Maya rag-doll tools
before reading this.</p>

<p>The PhysX Maya rag-doll tools produce a flat list of
rigid-body shapes that are named based on the bones from which
they were derived. The PhysX Rag-doll tool plug-in attaches the
rigid bodies to the bones during export for Gamebryo, which makes
it simple to import the rag-doll into a Gamebryo application.</p>

<p>There are several considerations when designing your
rigid-body hierarchy:</p>

<ul>
    <li>For best results the rigid-body should have a one-to-one
    correspondence with the character hierarchy in the core of
    the character, but not necessarily at the limbs. In other
    words, if you view the character's hierarchy as a tree, the
    rag-doll rigid-body joint hierarchy should have all the same
    connections but might have some limbs chopped short. This is
    not strictly necessary but it produces a far more stable
    situation at run-time because the determination of local
    joint transformations can be done more accurately. If you
    would like a simpler rag-doll bone model, make use of
    Gamebryo's bone LOD system and match the rag-doll to one of
    the LODs, both when modeling and at run-time.</li>

    <li>You can use any kind of PhysX shape for the rigid-bodies.
    You do not even have to use the PhysX tools provided the
    rag-doll rigid bodies are named based on the character's
    bones.</li>

    <li>The rigid bodies should have masses that are all about
    the same, say within a factor of ten (if the smallest mass is
    1, the largest is 10). It is easier to enforce this if you
    explicitly set the masses of the bodies and do not use the
    density.</li>
</ul>

<h2>Physics and the Animation Sequence
Manager</h2>

<p>When you use the Animation Sequence Editor
to create animation sequences for a character, you can create an
additional sequence for the physics system to control. In fact,
you can create several sequences if you would like sub-portions
of the character to be physically controlled (say just an arm or
a leg). In the Gamebryo Animation Tool, you can then specify the
sequences as physical and set up transitions and blends with
regular animation.</p>

<p>When the sequence is made physical, the translation and scale
on the character during that sequence will be taken over by
physics. It is important that the sequences intended for physical
control be set to Loop in the Animation Manager. The duration of
the sequence controls how long it will play before looping while
viewing transitions in Animation Tool. There must not be any
scale on the "Accumulation Root" of the character.</p>

<p>When you export a model for use with Animation Tool, we
strongly recommend checking the "Initial States from Sequences"
box in the PhysX Extractor tool plug-in.</p>

<p class="NDLHeadingRelatedTopic">Related topics</p>

<ul>
    <li><a href=
    "../../Reference/Tool_Plug_ins/PhysX_Ragdoll.htm">PhysX
    Rag-doll</a></li>

    <li><a href="Animation_Sequence_Window.htm">Animation
    Sequence Editor</a></li>

    <li><a href=
    "../../Tools/animation_tool/Introduction_to_PhysX_in_Animation_Tool.htm">
    Introduction to PhysX in Animation Tool</a></li>

    <li><a href=
    "../../Reference/Tool_Plug_ins/PhysX_Extractor.htm">PhysX
    Extractor</a></li>
</ul> 

<!--kadov_tag{{<placeholder id="footer">}}-->
</body>

</html>
