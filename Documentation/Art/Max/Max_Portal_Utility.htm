<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>

<title>Max Portal Utility</title>
<!--(Begin Meta)===================================================-->

<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="Originator" content="Pre-Expedition-RH" />
<meta name="Generator" content="Palimpsest by Emergent Game Technologies - http://emergent.net" />
<meta name="Last-Updated" content="%lastupdated%" />

<!--(End Meta)====================================================-->
    
<!--(Begin Links)===================================================-->
    
<link rel="stylesheet" href="../../shared/Emergent.css" type="text/css" />

<!--(End Links)=====================================================-->

</head>

<!--(Begin Body)===================================================-->
<body lang="EN-US">
<script src="../../shared/NavScript.js" language="JavaScript1.2" type="text/javascript"></script> <script language="JavaScript1.2" type="text/javascript">WriteNavLink(2);</script>


<h1>Portal Utility Reference and Description</h1>

<div class="FigureContainer">
    <img src="images/portalutility.jpg" width="424" height="652" alt="portalutility (60K)" />
	    <!-- <p class="FigureCaption"></p> -->
</div>

<p>The Gamebryo Portal Utility for 3d Studio Max is a tool 
 intended to speed up the process of organizing and tagging a level such 
 that it can be compatible with the portal culling system. When the portal 
 converter plugin is added to the export script, the exporter searches 
 the Max scene for objects tagged with portal information. The exporter 
 also considers the hierarchical structure of the scene to determine information 
 such as which geometry is part of which room. The Portal Utility does 
 not do anything to the Max scene that cannot be done manually, but it 
 does speed up the process of setting the scene up by tagging and linking 
 objects in an automatic and logical manner. For more details on how the 
 Portal Converter plugin works, see the <a href="../../Reference/Tool_Plug_ins/Portal_Converter.htm">Portal 
 Converter</a> documentation.</p>

<h2>Group and Room Controls</h2>

<p>The upper portion of the Portal Utility window contains 
 the controls for selecting, creating, deleting, and renaming both rooms 
 and roomgroups.</p>

<div class="FigureContainer">
    <img src="images/roomcontrols.jpg" width="380" height="231" alt="roomcontrols (16K)" />
	    <!-- <p class="FigureCaption"></p> -->
</div>
 
<h4>Room Group Dropdown</h4>

<p>  The dropdown list at the top labeled 'Current 
 Group' lists all of the room group nodes found in the scene, whether they 
 were created manually, or using the Portal Utility.</p>

<h4>Room Listbox</h4>

<p>  The listbox labeled 'Rooms' directly below 
 the Room Group Dropdown displays the name of all of the room objects in 
 the scene. By clicking a room name in this box, you are selecting that 
 room as the current room to edit. Selecting a room in this listbox will 
 cause that room's geometry objects and portals to be displayed in their 
 corresponding listboxes.</p>

<h4>Create Group Button</h4>

<p>  The button labeled 'Create' in the 'Group 
 Controls' frame is used to create a dummy node in the scene that represents 
 a new Room Group. When pressed, it will bring up an enter name dialog. 
 If it is not already present, the string '_NDLRG' will be appended to 
 the end of the room group's name. This tag is necessary for the portal 
 converter to identify Room Groups. Once a group has been created in this 
 way, it is automatically added to the groups listed in the Room Group 
 Dropdown.</p>

<h4>Delete Group Button</h4>

<p>  The button labeled 'Delete' in the 'Group 
 Controls' frame is used to remove the dummy node that is currently selected 
 in the Room Group Dropdown from the scene entirely. This removes that 
 room group from the Room Group Dropdown. All of that Room Group's children 
 remain in the scene, but are no longer associated with a group. If the 
 artist wishes to re-use those rooms with a different room group so that 
 they can keep the objects and portals associated with them, they will 
 have to manually link the rooms' dummy nodes to another Room Group.</p>

<h4>Rename Group Button</h4>

<p>  The button labeled 'Rename' in the 'Group 
 Controls' frame is used to rename the dummy node that is currently selected 
 in the Room Group Dropdown. When entering a new name for a group, the 
 string '_NDLRG' will automatically be appended, unless it is explicitly 
 typed in by the user.</p>

<h4>Create Room Button</h4>

<p>  The button labeled 'Create' in the 'Room 
 Controls' frame is used to create a dummy node in the scene that represents 
 a new Room. When pressed, it will bring up an enter name dialog. If it 
 is not already present, the string '_NDLRM' will be appended to the end 
 of the room's name. This tag is necessary for the portal converter to 
 identify Rooms. Once a room has been created in this way, it is automatically 
 added to the room listbox.</p>

<h4>Create Room From Selection Button</h4>

<p>  The button labeled 'From Selection' in the 
 'Room Controls' frame is used to create a dummy node in the scene that 
 represents a new Room. This button is only available when one or more 
 objects in the scene are selected in the viewport windows. When pressed, 
 it will bring up an enter name dialog. After entering a proper name, a 
 new room is added to the room group and the selected objects are set as 
 children of that room so that they are considered that room's geometry.</p>

<h4>Delete Room Button</h4>

<p>  The button labeled 'Delete' in the 'Room 
 Controls' frame is used to remove the dummy node that is currently selected 
 in the Room Listbox from the scene entirely. All of that Room Group's 
 children remain in the scene, but are no longer associated with a room. 
 This button is only enabled when one of the rooms is selected in the room 
 listbox.</p>

<h4>Rename Room Button</h4>

<p>  The button labeled 'Rename' in the 'Room 
 Controls' frame is used to rename the dummy node that is currently selected 
 in the Room Listbox. When entering a new name for a room, the string '_NDLRM' 
 will automatically be appended, unless it is explicitly typed in by the 
 user.</p>

<h2>Room Geometry Controls</h2>

<p>The middle of the Portal Utility window contains the 
 controls for adding geometry objects to a room.</p>

<div class="FigureContainer">
    <img src="images/geometrycontrols.jpg" width="382" height="161" alt="geometrycontrols (12K)" />
	    <!-- <p class="FigureCaption"></p> -->
</div>

<h4>Geometry Listbox</h4>

<p>  The listbox on the left of the 'Room Geometry' 
 frame displays all of the non-portal objects that are children of the 
 currently selected room. Gamebryo will cull these objects based off of 
 whether or not they can be seen through a portal from the room that the 
 camera is in.</p>

<h4>Add Object Button</h4>

<p>  The button labeled 'Add Object' allows 
 the user to attach any object to the currently selected room. When clicked, 
 it will activate selection mode where it will automatically add the next 
 object selected out of the scene as a child to the room. Adding objects 
 to a room does not rename anything, it only changes the hierarchical structure 
 of the scene.</p>

<h4>Add Selection Button</h4>

<p>  The button labeled 'Add Selection' allows 
 the user to attach many objects from the scene to the current room at 
 once. This button is only available when some objects from the scene are 
 already selected. When the user clicks this button, all of the objects 
 that are selected in the scene are added as children to the currently 
 selected room.</p>

<h4>Remove Object Button</h4>

<p>  The button labeled 'Remove Object' allows 
 the user to detach a child from the currently selected room. After detaching 
 an object, it still exists in the scene, it is just not considered part 
 of that room for the purpose of portal culling. An object must be selected 
 in the geometry listbox in order for this button to be enabled. This operation 
 only affects the hierarchical structure of the scene.</p>

<h4>Wall Checkbox</h4>

<p>  This checkbox will label the current mesh 
 selected in the Geometry Listbox and flag it as a Wall. This will append 
 '_NDLWL' to its name. For more detail on the behavior of walls when exporting, 
 see the <a href="../../Reference/Tool_Plug_ins/Portal_Converter.htm">Portal 
 Converter</a> documentation.</p>

<h2>Portal Controls</h2>

<p>The bottom of the Portal Utility window contains the 
 controls for managing the portals that are associated with a room.</p>

<div class="FigureContainer">
    <img src="images/portalcontrols.jpg" width="380" height="193" alt="portalcontrols (19K)" />
	    <!-- <p class="FigureCaption"></p> -->
</div>

<h4>Portal Listbox</h4>

<p>  The listbox on the left of the 'Portal Management' 
 frame displays all of the portal objects that are children of the currently 
 selected room. Additionally, the listbox displays in parentheses the target 
 room behind the portal and if the portal is flagged as two-way. This listbox 
 is used to select which portal to change the properties of as well.</p>

<h4>Target Room Dropdown</h4>

<p>  The dropdown box below the portal listbox 
 contains the names of all of the rooms in the currently selected room 
 group. When a portal is selected in the portal listbox, this dropdown 
 is enabled. It displays the room that the current portal leads to from 
 the current room. This dropdown is used to set the target room.</p>

<h4>Two-Way Checkbox</h4>

<p>  The checkbox to the right of the target 
 room dropdown simply allows the user to toggle whether or not the currently 
 selected portal is a two-way portal. This control is only available when 
 a portal is selected in the portal listbox.</p>

<h4>Add Portal Button</h4>

<p>  The button labeled 'Add Portal' allows the 
 user to pick a geometry object from the scene, then flags that object 
 to be a portal and adds it as a child to the currently selected room. 
 It will rename the object to append the string '_NDLPR' to the end unless 
 it is already there.</p>

<h4>Remove Portal Button</h4>

<p>  The button labeled 'Remove Portal' simply 
 detaches the portal selected in the portal listbox from the currently 
 selected room. It only effects the scene hierarchy.</p>

<h4>From Selection Button</h4>

<p>  The button labeled 'From Selection' Adds 
 all currently selected geometry as a portal for the current room. For 
 each object successfully added, it will append '_NDLPR' to the name unless 
 it is already there.</p>

<h4>Rename Portal Button</h4>

<p>  The button labeled 'Rename' in the 'Portal 
 Management' frame brings up the name-change dialog. This operation will 
 add the string '_NDLPR' to the end of the new name if it is not already 
 there.</p>

<!--kadov_tag{{<placeholder id="footer">}}-->

</body>

</html>
