<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>

<title>ParallaxMapping</title>
<!--(Begin Meta)===================================================-->

<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="Originator" content="Pre-Expedition-RH" />
<meta name="Generator" content="Palimpsest by Emergent Game Technologies - http://emergent.net" />
<meta name="Last-Updated" content="%lastupdated%" />

<!--(End Meta)====================================================-->
    
<!--(Begin Links)===================================================-->
    
<link rel="stylesheet" href="../../shared/Emergent.css" type="text/css" />

<!--(End Links)=====================================================-->

</head>

<!--(Begin Body)===================================================-->
<body lang="EN-US">
<script src="../../shared/NavScript.js" language="JavaScript1.2" type="text/javascript"></script> <script language="JavaScript1.2" type="text/javascript">WriteNavLink(2);</script>

<h1>ParallaxMapping</h1>

<p class="NDLRefHeaderFile">&lt;ParallaxMapping.NSF&gt;</p>

<a name=Requirements></a>
<p class="NDLRefHead1">Requirements</p>

<ul>
	
	<li>NSF Shader Library</li>
	
	<li>Vertex Shader 1.1 and 
 Pixel Shader 2.0</li>
</ul>

<a name=Description></a>
<p class="NDLRefHead1">Description</p>

<p>This shader implements a dot3 bump mapping effect like 
 the <a href="BaseBumpWithSpatialGlow.htm">BaseBumpWithSpatialGlow</a> 
 shader. Normal maps for the effect should contain scaled and 
 biased normals. The critical effect in this shader is that it calculates 
 a per pixel texture offset based off of a height map supplied by the shader. 
 This offset gives a parallax effect also known as virtual displacement 
 mapping. Notice that the bricks on the right side of the image appear 
 to stand out from the surface even though the surface is modeled with 
 only 32 triangles. </p>

<p>The parameter, OffsetScale, in the shader is used to 
 determine precisely how high the parallax mapping effect makes the bricks 
 appear. In general, this value should be computed based off the physical 
 parameters of the surface. Since the height map represents both positive 
 and negative displacements of the surface in tangent space, we can determine 
 the maximum degree of those displacements. For example, say that the height 
 field for our bricks represents a displacement of 1 inch either up or 
 down in the sample file. If the span of the texture without tiling represents 
 100 inches, then we should set an offset scale of 1/100 or 0.01. In this 
 example, OffsetScale is animated from 0.03 to 0.0 and back to 0.03. Note 
 that very small changes can have a very severe effect and the parallax 
 effect will look incorrect if OffsetScale is too large. OffsetScale is 
 clamped to the range [0.0, 0.1] for this reason.</p>

<p>ParallaxMapping was coded to vertex shader version 1.1 
 and pixel shader version 2.0. This was necessary since the parallax mapping 
 effect uses a dependent texture read. The effect could be rewritten in 
 pixel shader 1.4 for broader compatibility if desired. </p>

<a name=ArtRequirements></a>
<p class="NDLRefHead1">Art Requirements</p>

<ul>
	
	<li>Base map (Using first 
 UV set)</li>
	
	<li>Two lights of any kind</li>
	
	<li>Normal, binormal, and 
 tangent arrays (automatically calculated during export)</li>
</ul>

<a name=CustomAttributes></a>
<p class="NDLRefHead1">Custom Attributes</p>

<ul>
	
	<li>normalMap&mdash;The tangent-space 
 normal map for this shader. (Using first UV set)</li>
	
	<li>heightField&mdash;The height 
 map for the parallax mapping.</li>
	
	<li>OffsetScale&mdash;The scale 
 of the height field onto the offset</li>
</ul>

<a name=GlobalVariables></a>
<p class="NDLRefHead1">Global Variables</p>

<p>There are no global variables in this shader.</p>

<a name=ObjectVariables></a>
<p class="NDLRefHead1">Object Variables</p>

<ul>
	
	<li>Light1&mdash;A generic 
 light whose diffuse color and direction are used to light the model.</li>
	
	<li>Light2&mdash;A generic 
 light whose diffuse color and direction are used to light the model.</li>
</ul>

<a name=SampleArtFiles></a>
<p class="NDLRefHead1">Sample Art Files</p>


<div class="NDLFigureContainer">
    <img src="./images/ParallaxMapping.jpg" width="719" height="374"
/> 
    <!-- <p class="NDLFigureCaption">{Figure caption}</p> -->
</div>

<p><a href="../Max/Where_to_Find_the_Max_Artist_Examples.htm">Shader 
 Parallax Mapping.max</a></p>

<a name=ProgrammerNotes></a>
<p class="NDLRefHead1">Programmer Notes</p>

<p>This shader has no programmer notes.</p>

<!--kadov_tag{{<placeholder id="footer">}}-->
</body>

</html>
