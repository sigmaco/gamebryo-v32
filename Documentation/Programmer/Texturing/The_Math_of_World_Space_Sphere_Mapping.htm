<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>

<title>The Math of World-Space Sphere Mapping</title>
<!--(Begin Meta)===================================================-->

<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="Originator" content="Pre-Expedition-RH" />
<meta name="Generator" content="Palimpsest by Emergent Game Technologies - http://emergent.net" />
<meta name="Last-Updated" content="%lastupdated%" />

<!--(End Meta)====================================================-->
    
<!--(Begin Links)===================================================-->
    
<link rel="stylesheet" href="../../shared/Emergent.css" type="text/css" />

<!--(End Links)=====================================================-->

</head>

<!--(Begin Body)===================================================-->
<body lang="EN-US">
<script src="../../shared/NavScript.js" language="JavaScript1.2" type="text/javascript"></script> <script language="JavaScript1.2" type="text/javascript">WriteNavLink(2);</script>


<h1>The Math of World-Space Sphere Mapping</h1>

<p>The detailed math of world-space sphere mapping is as follows:</p>

<ul>
  <li>the input is a set of normalized world-space view reflection vectors from each vertex</li>
  <li>the output is a set of texture coordinates:
  
  
    <div class="NDLFigureContainer">
        <img src="./images/image028.gif" width="277" height="48"
    />
        <!-- <p class="NDLFigureCaption">{Figure caption}</p> -->
    </div>
  </li>
</ul>

<p>Where:</p>

<ul>
	
	<li>Tex<sub>UV</sub> is the output texture coordinate (2D)</li>
	
	<li>R<sub>W</sub> is the world rotation matrix for the <span class="NDLSystemFont">NiTextureEffect</span></li>
	
	<li>V<sub>RW</sub> is the world-space reflection vector (unitized) from the vertex for the given eye-point</li>
</ul>

<p>So, for the case where R<sub>W</sub> = I (no rotation), 
 then:</p>

<table>
	<thead>
		<tr>
			<th>Input</th>
			<th>Output</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>&lt;&plusmn;1, 0, 0&gt; &rarr; &lt;0.5, 0.5&gt;</td>
			<td>(texture center)</td>
		</tr>				
		<tr>
			<td>&lt;0, 1, 0&gt; &rarr; &lt;0.5, 0.5&gt;</td>
			<td>(texture top)</td>
		</tr>				
		<tr>
			<td>&lt;0, -1, 0&gt; &rarr; &lt;0.5, 1.0&gt;</td>
			<td>(texture bottom)</td>
		</tr>				
		<tr>
			<td>&lt;0, 0, 1&gt; &rarr; &lt;1.0, 0.5&gt;</td>
			<td>(texture right)</td>
		</tr>				
		<tr>
			<td>&lt;0, 0, -1&gt; &rarr; &lt;0.0, 0.5&gt;</td>
			<td>(texture left)</td>
		</tr>
	</tbody>
</table>						


<!--kadov_tag{{<placeholder id="footer">}}-->

</body>

</html>
