<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>

<title>NiMetrics Output Modules</title>
<!--(Begin Meta)===================================================-->

<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="Originator" content="Pre-Expedition-RH" />
<meta name="Generator" content="Palimpsest by Emergent Game Technologies - http://emergent.net" />
<meta name="Last-Updated" content="%lastupdated%" />

<!--(End Meta)====================================================-->
    
<!--(Begin Links)===================================================-->
    
<link rel="stylesheet" href="../../shared/Emergent.css" type="text/css" />

<!--(End Links)=====================================================-->

</head>

<!--(Begin Body)===================================================-->
<body lang="EN-US">
<script src="../../shared/NavScript.js" language="JavaScript1.2" type="text/javascript"></script> <script language="JavaScript1.2" type="text/javascript">WriteNavLink(2);</script>


<h1>NiMetrics Output Modules</h1>

<p>The <span class="NDLSystemFont">NiMetrics</span> system 
 is a three-step process. The first is to <a href="Instrumenting.htm">instrument</a> 
 the code and to collect values. The second is to send these values to 
 the <span class="NDLSystemFont">NiMetricsLayer</span>. The third is to handle 
 those values in some way. This third step is what the output modules are 
 for.</p>

<p>Whenever an instrumented call to <span class="NDLSystemFont">NiMetricsLayer</span> 
 is made, it passes along that call to all of the active output modules. 
 In this way, a single instrumented call can be handled in multiple and 
 arbitrary ways without having to reinstrument the codebase. To add output 
 modules to the list of active modules, instantiate an <span class="NDLSystemFont"><a 
 href="../../Reference/NiMain/NiMetricsOutputModule.htm">NiMetricsOutputModule</a></span> 
 and add it to the metrics layer via <span class="NDLSystemFont">NiMetricsLayer::AddModule</span>.</p>

<h2>Commonly Used Output Modules</h2>

<p>The easiest way to get output from metrics is to either 
 use an <span class="NDLSystemFont"><a href="../../Reference/NiMetricsOutput/NiXMLMetricsOutput.htm">NiXMLMetricsOutput</a></span> 
 or an <span class="NDLSystemFont"><a href="../../Reference/NiVisualTracker/NiVisualTracker.htm">NiVisualTrackerOutput</a></span>. 
 The XML output will write the output to a file every specified number 
 of frames and the Visual Tracker output module will output specified metrics 
 to the visual tracker for immediate visual feedback. There are other output 
 modules. See the <a href="../../Reference/NiMetricsOutput/NiMetricsOutput_Overview.htm">NiMetricsOutput 
 Overview</a> for more details.</p>

<h2>Custom Output Modules</h2>

<p>Custom output modules must derive from <span class="NDLSystemFont"><a 
 href="../../Reference/NiMain/NiMetricsOutputModule.htm">NiMetricsOutputModule</a></span> 
 and be added to the <span class="NDLSystemFont"><a href="../../Reference/NiMain/NiMetricsLayer.htm">NiMetricsLayer</a></span> 
 like any other output module.</p>

<h2>Multithreading Issues</h2>

<p>The <span class="NDLSystemFont"><a href="../../Reference/NiMain/NiMetricsLayer.htm">NiMetricsLayer</a></span> 
 class has a single mutex for all of its the output functions and module 
 adding/removal functions. In this way, output modules can be assured that 
 no modules are being added or removed while an output function is being 
 called or that two output functions are being called simultaneously. The 
 caveat here is that output modules should do very little work in their 
 implementation of the output functions.</p>

<p class="NDLHeadingRelatedTopic">Related topics</p>

<ul>
	
	<li><span class="NDLSystemFont"><a href="../../Reference/NiMain/NiMetricsLayer.htm">NiMetricsLayer</a></span></li>
	
	<li><span class="NDLSystemFont"><a href="../../Reference/NiMain/NiMetricsOutputModule.htm">NiMetricsOutputModule</a></span></li>
	
	<li><span class="NDLSystemFont"><a href="../../Reference/NiMetricsOutput/NiMetricsOutput_Overview.htm">NiMetricsOutput 
 Overview</a></span></li>
	
	<li><span class="NDLSystemFont"><a href="../../Reference/NiMetricsOutput/NiXMLMetricsOutput.htm">NiXMLMetricsOutput</a></span></li>
	
	<li><span class="NDLSystemFont"><a href="../../Reference/NiVisualTracker/NiVisualTracker.htm">NiVisualTrackerOutput</a></span></li>
</ul>

<!--kadov_tag{{<placeholder id="footer">}}-->

</body>

</html>
