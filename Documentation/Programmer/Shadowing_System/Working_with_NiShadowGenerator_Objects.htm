<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>

<title>Working with NiShadowGenerator Objects</title>
<!--(Begin Meta)===================================================-->

<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="Originator" content="Pre-Expedition-RH" />
<meta name="Generator" content="Palimpsest by Emergent Game Technologies - http://emergent.net" />
<meta name="Last-Updated" content="%lastupdated%" />

<!--(End Meta)====================================================-->
    
<!--(Begin Links)===================================================-->
    
<link rel="stylesheet" href="../../shared/Emergent.css" type="text/css" />

<!--(End Links)=====================================================-->

</head>

<!--(Begin Body)===================================================-->
<body lang="EN-US">
<script src="../../shared/NavScript.js" language="JavaScript1.2" type="text/javascript"></script> <script language="JavaScript1.2" type="text/javascript">WriteNavLink(2);</script>

<h1>Working with NiShadowGenerator Objects</h1>

<p><span class="NDLSystemFont"><a href="../../Reference/NiMain/NiShadowGenerator.htm">NiShadowGenerator</a></span> 
 objects are modifiers that can be attached to <span class="NDLSystemFont"><a href="../../Reference/NiMain/NiDynamicEffect.htm">NiDynamicEffect</a></span> 
 objects. If an application <a href="Working_with_NiShadowManager.htm">enables 
 the shadowing system</a>, the <span class="NDLSystemFont">NiShadowGenerator</span> 
 object will cause the <span class="NDLSystemFont">NiDynamicEffect</span> 
 object to cast a shadow. Currently only <span class="NDLSystemFont"><a href="../../Reference/NiMain/NiLight.htm">NiLight</a></span>-based 
 dynamic effects are supported.</p>

<p>To make an <span class="NDLSystemFont">NiLight</span> 
 object cast a shadow, simply attach an <span class="NDLSystemFont">NiShadowGenerator</span> 
 object and inform the <span class="NDLSystemFont"><a href="../../Reference/NiMain/NiShadowManager.htm">NiShadowManager</a></span> 
 that the <span class="NDLSystemFont">NiShadowGenerator</span> exists. Other 
 options can be set on the <span class="NDLSystemFont">NiShadowGenerator</span>. 
 The following example code makes an <span class="NDLSystemFont"><a href="../../Reference/NiMain/NiSpotLight.htm">NiSpotLight</a></span> 
 object cast shadows using the <span class="NDLSystemFont"><a href="Shadow_Techniques.htm">NiPCFShadowTechnique</a></span>:</p>

<pre>
NiShadowGenerator* pkShadowGenerator = NiNew NiShadowGenerator(pkSpotLight);
pkShadowGenerator-&gt;SetShadowTechnique("NiPCFShadowTechnique");
NiShadowManager::AddShadowGenerator(pkShadowGenerator);
</pre>

<h4>Streaming</h4>

<p><span class="NDLSystemFont"><a href="../../Reference/NiMain/NiShadowGenerator.htm">NiShadowGenerator</a></span> 
 objects are streamed along with <span class="NDLSystemFont"><a href="../../Reference/NiMain/NiDynamicEffect.htm">NiDynamicEffect</a></span> 
 objects. This means that if an <span class="NDLSystemFont">NiDynamicEffect</span> 
 object is streamed with an attached <span class="NDLSystemFont">NiShadowGenerator</span> 
 object, such as the spot light in the code above, the associated <span 
 class="NDLSystemFont">NiShadowGenerator</span> is streamed out as well. 
 This behavior conveniently allows shadow system enabled applications to 
 stream a NIF<!--kadov_tag{{</ignored>}}--> 
 with an <span class="NDLSystemFont">NiShadowGenerator</span> object and 
 automatically have a scene with shadows. If the application does not enable 
 shadows and streams in a NIF<!--kadov_tag{{</ignored>}}--> 
 with an <span class="NDLSystemFont">NiShadowGenerator</span> object, the 
 system will skip the <span class="NDLSystemFont">NiShadowGenerator</span> 
 object during streaming.</p>

<!--kadov_tag{{<placeholder id="footer">}}-->

</body>

</html>
